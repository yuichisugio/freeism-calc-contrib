{
  "data": {
    "repository": {
      "pullRequests": {
        "totalCount": 452,
        "pageInfo": {
          "hasNextPage": true,
          "endCursor": "Y3Vyc29yOnYyOpK5MjAyNS0wNi0xN1QwMDozODoyOCswOTowMM6ave8b"
        },
        "nodes": [
          {
            "fullDatabaseId": "2555249430",
            "id": "PR_kwDOOyw9fc6YTgMW",
            "number": 1,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/1",
            "url": "https://github.com/ryoppippi/ccusage/pull/1",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/1/checks",
            "additions": 328,
            "deletions": 24,
            "title": "Add Japanese Yen (JPY) Currency Display Support",
            "bodyText": "Overview\nThis PR adds support for displaying Claude Code usage costs in Japanese Yen (JPY) alongside the existing USD display. Users can now switch between USD and JPY with a persistent preference that is maintained across sessions.\nChanges\nMain Changes\n\nCurrency Conversion: Implemented JPY support with a fixed conversion rate of 1 USD = 150 JPY\nPersistent Configuration: Added configuration storage using the conf library for cross-platform support\nCLI Enhancement: Added --currency flag to all commands for easy currency switching\nNumber Formatting: Improved number formatting with comma separators for better readability\n\nTechnical Details\n\nModified Files:\n\nutils.ts - Updated formatCurrency() to support multiple currencies\ncommands/daily.ts & commands/session.ts - Integrated currency-aware formatting\nshared-args.ts - Added --currency CLI argument\nREADME.md - Added currency feature documentation\n\n\nNew Files:\n\nconfig.ts - Configuration management module\ncurrency.ts - Currency conversion and formatting logic\nconfig.test.ts & currency.test.ts - Comprehensive test coverage\n\n\nDependencies:\n\nAdded conf@13.1.0 for configuration storage\nAdded @types/conf@3.0.3 for TypeScript support\n\n\nConfiguration:\n\nConfig stored in platform-specific locations (macOS/Linux: ~/.config/ccusage/config.json, Windows: %APPDATA%\\ccusage\\config.json)\n\n\n\nImpact\n\nBreaking Changes: No - Existing functionality remains unchanged, USD is still the default\nDatabase Changes: No\nAPI Changes: No - JSON output format remains unchanged (always shows USD values)\nPerformance Impact: Negligible - Only adds configuration file read on startup\n\nTesting\n\n Unit tests pass\n Integration tests pass\n Manual testing completed\n Performance testing (not applicable)\n\nTest Details\n\nAdded 13 new tests covering currency conversion, formatting, and configuration persistence\nUpdated existing tests to support the new formatCurrency signature\nAll 47 tests pass successfully\nTest coverage includes:\n\nUSD to JPY conversion accuracy\nNumber formatting with comma separators\nCurrency symbol display ($ vs Â¥)\nDecimal place handling (2 for USD, 0 for JPY)\nConfiguration persistence across sessions\nInvalid currency handling\n\n\n\nDeployment\n\nSpecial Instructions: None - the feature is self-contained\nEnvironment Variables: None required\nMigration Steps: None - configuration is created automatically on first use\n\nReview Focus Areas\n\nCurrency Conversion Rate: Currently hardcoded at 1 USD = 150 JPY - is this acceptable or should it be configurable?\nNumber Formatting: Using toLocaleString('en-US') for both currencies - should JPY use a different locale?\nConfiguration Location: Using the conf library's default paths - are these appropriate for the project?\n\nRelated Information\n\nIssue/Ticket: Not linked to a specific issue\nDocumentation: README.md updated with currency configuration section\nScreenshots:\n\nExample output with JPY display:\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Date         â”‚        Input â”‚       Output â”‚ Cache Create â”‚   Cache Read â”‚ Total Tokens â”‚ Cost (JPY) â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ 2025-05-30   â”‚        9,896 â”‚      713,227 â”‚    8,584,408 â”‚   93,755,531 â”‚  103,063,062 â”‚    Â¥49,137 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nChecklist\n\n Self-reviewed code\n Added appropriate comments\n Updated documentation\n Added/updated tests\n All tests pass\n No lint errors\nEOF < /dev/null",
            "state": "CLOSED",
            "publishedAt": "2025-05-30T17:18:12Z",
            "closedAt": "2025-05-31T06:58:09Z",
            "mergedAt": null,
            "mergedBy": null,
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 3
            },
            "reviews": {
              "totalCount": 2
            }
          },
          {
            "fullDatabaseId": "2564227712",
            "id": "PR_kwDOOyw9fc6Y1wKA",
            "number": 5,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/5",
            "url": "https://github.com/ryoppippi/ccusage/pull/5",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/5/checks",
            "additions": 2353,
            "deletions": 333,
            "title": "feat: Debug Features and Cost Calculation Modes types to log function",
            "bodyText": "fixes: #4 #3\nThis pull request introduces significant enhancements to the cost calculation functionality, updates to the schema for usage data, and improvements to testing and debugging capabilities. The most important changes include adding support for cost calculation modes, integrating LiteLLM pricing data, expanding the schema for usage data, and refining session data handling.\nCost Calculation Enhancements:\n\nAdded three cost calculation modes (auto, calculate, display) to control how costs are computed based on token counts or pre-calculated costUSD values. ([[1]](https://github.com/ryoppippi/ccusage/pull/5/files#diff-6ebdb617a8104a7756d0cf36578ab01103dc9f07e4dc6feb751296b9c402faf7R22-R30), [[2]](https://github.com/ryoppippi/ccusage/pull/5/files#diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R116-R120), [[3]](https://github.com/ryoppippi/ccusage/pull/5/files#diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R141-R145), [[4]](https://github.com/ryoppippi/ccusage/pull/5/files#diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R156-R165))\nImplemented logic to calculate costs dynamically using LiteLLM pricing data when the mode is set to calculate or fallback to auto mode. ([[1]](https://github.com/ryoppippi/ccusage/pull/5/files#diff-9ef087b6a8799e1e3852522a758149979ace890a62c820a6d12a36e3eb7cc5fcR91-R93), [[2]](https://github.com/ryoppippi/ccusage/pull/5/files#diff-9ef087b6a8799e1e3852522a758149979ace890a62c820a6d12a36e3eb7cc5fcL108-R155), [[3]](https://github.com/ryoppippi/ccusage/pull/5/files#diff-9ef087b6a8799e1e3852522a758149979ace890a62c820a6d12a36e3eb7cc5fcL153-R200), [[4]](https://github.com/ryoppippi/ccusage/pull/5/files#diff-9ef087b6a8799e1e3852522a758149979ace890a62c820a6d12a36e3eb7cc5fcR238-R287))\n\nLiteLLM Integration:\n\nIntegrated LiteLLM's pricing database to fetch model-specific pricing data for cost calculations. ([[1]](https://github.com/ryoppippi/ccusage/pull/5/files#diff-6ebdb617a8104a7756d0cf36578ab01103dc9f07e4dc6feb751296b9c402faf7R53), [[2]](https://github.com/ryoppippi/ccusage/pull/5/files#diff-9ef087b6a8799e1e3852522a758149979ace890a62c820a6d12a36e3eb7cc5fcR91-R93), [[3]](https://github.com/ryoppippi/ccusage/pull/5/files#diff-9ef087b6a8799e1e3852522a758149979ace890a62c820a6d12a36e3eb7cc5fcL108-R155))\nAdded validation to ensure model names in tests match LiteLLM's database entries to prevent failures caused by unsupported models. ([CLAUDE.mdR63-R86](https://github.com/ryoppippi/ccusage/pull/5/files#diff-6ebdb617a8104a7756d0cf36578ab01103dc9f07e4dc6feb751296b9c402faf7R63-R86))\n\nSchema Updates:\n\nExpanded the UsageDataSchema and SessionUsageSchema to include optional fields for model names and versions, enabling more detailed tracking of usage data. ([[1]](https://github.com/ryoppippi/ccusage/pull/5/files#diff-9ef087b6a8799e1e3852522a758149979ace890a62c820a6d12a36e3eb7cc5fcR7-R29), [[2]](https://github.com/ryoppippi/ccusage/pull/5/files#diff-9ef087b6a8799e1e3852522a758149979ace890a62c820a6d12a36e3eb7cc5fcR54))\nEnhanced session data handling to include unique versions used within a session and sort results by last activity instead of total cost. ([[1]](https://github.com/ryoppippi/ccusage/pull/5/files#diff-9ef087b6a8799e1e3852522a758149979ace890a62c820a6d12a36e3eb7cc5fcL153-R200), [[2]](https://github.com/ryoppippi/ccusage/pull/5/files#diff-9ef087b6a8799e1e3852522a758149979ace890a62c820a6d12a36e3eb7cc5fcL215-R303))\n\nDebugging and Testing Improvements:\n\nAdded debugging utilities (detectMismatches, printMismatchReport) to identify discrepancies in data and provide detailed reports. ([[1]](https://github.com/ryoppippi/ccusage/pull/5/files#diff-a22e1a0044d16770257ddea66c38e5d9a02b67ee541793687e483fce477e5835R11-R26), [[2]](https://github.com/ryoppippi/ccusage/pull/5/files#diff-a22e1a0044d16770257ddea66c38e5d9a02b67ee541793687e483fce477e5835R42-R47), [[3]](https://github.com/ryoppippi/ccusage/pull/5/files#diff-6f9669bd0d0825f4042a8b411bc063f5a8df5d557c7421b91ffb72c5ceb75c26R11-R26), [[4]](https://github.com/ryoppippi/ccusage/pull/5/files#diff-6f9669bd0d0825f4042a8b411bc063f5a8df5d557c7421b91ffb72c5ceb75c26R42-R47))\nUpdated testing guidelines to ensure comprehensive coverage for supported Claude 4 models and compatibility with LiteLLM pricing data. ([[1]](https://github.com/ryoppippi/ccusage/pull/5/files#diff-6ebdb617a8104a7756d0cf36578ab01103dc9f07e4dc6feb751296b9c402faf7R63-R86), [[2]](https://github.com/ryoppippi/ccusage/pull/5/files#diff-8154d3524d88625e7af075f901b613ca1232ec13895d54b8c0fd3c0796f1aeccR49), [[3]](https://github.com/ryoppippi/ccusage/pull/5/files#diff-8154d3524d88625e7af075f901b613ca1232ec13895d54b8c0fd3c0796f1aeccR60))",
            "state": "MERGED",
            "publishedAt": "2025-06-03T14:37:42Z",
            "closedAt": "2025-06-03T15:15:11Z",
            "mergedAt": "2025-06-03T15:15:11Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 1
            },
            "reviews": {
              "totalCount": 4
            }
          },
          {
            "fullDatabaseId": "2564548492",
            "id": "PR_kwDOOyw9fc6Y2-eM",
            "number": 7,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/7",
            "url": "https://github.com/ryoppippi/ccusage/pull/7",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/7/checks",
            "additions": 22,
            "deletions": 15,
            "title": "chore: move files under src directory",
            "bodyText": "fixes: #2\nThis pull request introduces several updates to the project structure, including changes to file paths, package scripts, and configuration settings. The most significant updates involve reorganizing the codebase to use a src directory for source files, modifying import paths, and adjusting package scripts to reflect the new structure.\nUpdates to project structure:\n\nReorganization of source files:\n\nRenamed index.ts to src/commands/index.ts and adjusted imports to reflect the new directory structure. ([src/commands/index.tsL1-R5](https://github.com/ryoppippi/ccusage/pull/7/files#diff-a6a1db61476382a80351bf0b40126b3cfca87878293a3fca70dfe04367f4a11fL1-R5))\nAdded a new src/index.ts file as the entry point, including a shebang for CLI execution and importing src/commands/index.ts. ([src/index.tsR1-R3](https://github.com/ryoppippi/ccusage/pull/7/files#diff-a2a171449d862fe29692ce031981047d7ab755ae7f84c707aef80701b3ea0c80R1-R3))\nRenamed logger.ts to src/logger.ts and updated the import path for package.json. ([src/logger.tsL3-R3](https://github.com/ryoppippi/ccusage/pull/7/files#diff-7bc1140e724e284ae22084e1172568baa8d151063d02c75ed1d8805fa7796acaL3-R3))\n\n\n\nUpdates to package.json:\n\nExports additions:\n\nAdded new entries for ./debug, ./logger, ./pricing-fetcher, ./shared-args, ./types, and ./utils in the exports field. ([package.jsonR21-R26](https://github.com/ryoppippi/ccusage/pull/7/files#diff-7ae45ad102eab3b6d7e7896acd08c427a9b25b346470d7bc6507b6481575d519R21-R26))\n\n\nScript modifications:\n\nReplaced the report script with a start script that runs ./src/index.ts. ([package.jsonL35-R41](https://github.com/ryoppippi/ccusage/pull/7/files#diff-7ae45ad102eab3b6d7e7896acd08c427a9b25b346470d7bc6507b6481575d519L35-R41))\n\n\n\nUpdates to configuration:\n\nBuild entry points:\n\nUpdated the tsdown.config.ts file to use ./src/*.ts as entry points, excluding test files (!./src/**/*.test.ts). ([tsdown.config.tsL5-R5](https://github.com/ryoppippi/ccusage/pull/7/files#diff-c105f99c241d6d60e41561e663ee096629894e9b2a773c82283655b323f59485L5-R5))",
            "state": "MERGED",
            "publishedAt": "2025-06-03T16:19:47Z",
            "closedAt": "2025-06-03T16:20:17Z",
            "mergedAt": "2025-06-03T16:20:17Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 1
            },
            "reviews": {
              "totalCount": 3
            }
          },
          {
            "fullDatabaseId": "2567699701",
            "id": "PR_kwDOOyw9fc6ZC_z1",
            "number": 9,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/9",
            "url": "https://github.com/ryoppippi/ccusage/pull/9",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/9/checks",
            "additions": 442,
            "deletions": 6,
            "title": "feat: implement mcp",
            "bodyText": "This pull request introduces support for the Model Context Protocol (MCP) to enable usage data integration with external tools. It adds a new mcp command, updates the package configuration, and implements the MCP server with features for usage reporting. Below are the most important changes grouped by theme:\nMCP Command Integration:\n\nAdded a new mcp command in src/commands/mcp.ts to start the MCP server with configurable transport types (stdio or http) and modes (calculate, display, or auto). This command integrates with shared arguments and supports HTTP port configuration.\nUpdated src/commands/index.ts to include the mcpCommand in the subcommands map, enabling the use of the new MCP functionality.\n\nMCP Server Implementation:\n\nCreated the createMcpServer function in src/mcp.ts to initialize a FastMCP server with tools for generating daily and session usage reports. It uses schemas for parameter validation and supports cost calculation modes.\n\nDocumentation Updates:\n\nUpdated README.md with a detailed section on MCP support, including usage examples, transport options, and configuration instructions for integration with tools like Claude Desktop.\n\nPackage Configuration:\n\nAdded ./mcp export to package.json for the MCP module and included new dependencies @valibot/to-json-schema and fastmcp for schema validation and MCP server implementation. [1] [2]",
            "state": "MERGED",
            "publishedAt": "2025-06-04T15:29:06Z",
            "closedAt": "2025-06-04T15:29:20Z",
            "mergedAt": "2025-06-04T15:29:20Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 1
            },
            "reviews": {
              "totalCount": 3
            }
          },
          {
            "fullDatabaseId": "2573568692",
            "id": "PR_kwDOOyw9fc6ZZYq0",
            "number": 15,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/15",
            "url": "https://github.com/ryoppippi/ccusage/pull/15",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/15/checks",
            "additions": 345,
            "deletions": 17,
            "title": "feat: add multi-currency support with live exchange rates",
            "bodyText": "Summary\nThis PR adds comprehensive multi-currency support to ccusage, allowing users to view Claude usage costs in their preferred currency with live exchange rates.\nKey Features\n\nğŸŒ 20 Supported Currencies: USD, EUR, GBP, JPY, CAD, AUD, CHF, CNY, INR, IDR, SGD, HKD, KRW, MXN, BRL, ZAR, SEK, NOK, DKK, PLN\nğŸ“¡ Live Exchange Rates: Fetches current rates from exchangerate-api.com\nâš¡ Smart Caching: 2-hour local cache in ~/.claude/exchange-rates.json for performance\nğŸ›¡ï¸ Graceful Fallbacks: Falls back to USD if API fails or currency unavailable\nğŸ’± Proper Formatting: Currency-specific symbols and decimal handling (e.g., IDR shows \"Rp\", JPY shows no decimals)\nğŸ”§ CLI Integration: New --currency/-c flag works with all existing commands\n\nUsage Examples\n# Daily report in Indonesian Rupiah\nccusage daily --currency IDR\n\n# Session report in Euros with JSON output\nccusage session --currency EUR --json\n\n# British Pounds with date filtering\nccusage daily --currency GBP --since 20250101\nTechnical Implementation\nCore Components:\n\nCurrencyService: Handles exchange rate fetching, caching, and conversion\nExchangeRate interface: Type-safe currency data structure\nconvertCostToCurrency(): Utility function for USDâ†’target conversion\nEnhanced CLI args with currency validation\n\nArchitecture Decisions:\n\nInternal calculations remain in USD (maintains LiteLLM compatibility)\nCurrency conversion only at display time (preserves data integrity)\nLocal file-based caching for offline resilience\nFree API with no rate limits or registration required\n\nError Handling:\n\nNetwork failures â†’ fallback to stale cache â†’ fallback to USD\nMissing currencies â†’ fallback to USD with warning\nInvalid cache files â†’ start with empty cache\n\nFiles Added/Modified\nNew Files:\n\nsrc/currency.ts - Core currency service implementation\nsrc/currency.test.ts - Comprehensive test coverage\n\nModified Files:\n\nsrc/types.ts - Currency types and validation schemas\nsrc/shared-args.ts - CLI argument definition\nsrc/calculate-cost.ts - Currency conversion utilities\nsrc/commands/daily.ts - Multi-currency table/JSON output\nsrc/commands/session.ts - Multi-currency table/JSON output\n\nTesting\nâœ… Comprehensive test coverage for CurrencyService including:\n\nExchange rate fetching with API mocking\nCaching behavior and TTL validation\nError handling and fallback scenarios\nCurrency formatting and symbol handling\n\nâœ… Manual testing verified:\n\nCLI flag recognition and validation\nLive API integration with caching\nProper formatting in both table and JSON outputs\nGraceful handling of network failures\n\nExample Output\nTable Format (IDR):\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Date            â”‚ Total Tokens â”‚ Cost (IDR)   â”‚ Last Activityâ”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ 2025-06-06      â”‚   82,159,177 â”‚ Rp1097751.35 â”‚ 2025-06-06   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nJSON Format (EUR):\n{\n  \"daily\": [\n    {\n      \"date\": \"2025-06-06\",\n      \"totalCost\": 59.01,\n      \"currency\": \"EUR\"\n    }\n  ],\n  \"totals\": {\n    \"totalCost\": 76.77,\n    \"currency\": \"EUR\"\n  }\n}\nBackward Compatibility\nâœ… Fully backward compatible - defaults to USD if no currency specified\nâœ… No breaking changes to existing CLI interface or JSON structure\nâœ… Maintains data integrity - all internal calculations still in USD\nTest Plan\n\n Verify CLI flag appears in help output\n Test currency conversion with live API\n Validate caching behavior and TTL expiration\n Confirm fallback handling for network errors\n Test all 20 supported currencies\n Verify table and JSON output formatting\n Check backward compatibility with no --currency flag\n Validate proper currency symbols and decimal handling\n\nImplementation Notes\nThis feature enables international users to better understand their Claude Code usage costs in familiar currencies. The implementation prioritizes reliability with multiple fallback layers and maintains full backward compatibility.\nThe exchange rate API (exchangerate-api.com) is free, reliable, and doesn't require registration, making it ideal for this use case. Local caching ensures good performance and offline functionality.",
            "state": "CLOSED",
            "publishedAt": "2025-06-06T13:58:46Z",
            "closedAt": "2025-06-07T17:28:20Z",
            "mergedAt": null,
            "mergedBy": null,
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 1
            },
            "reviews": {
              "totalCount": 5
            }
          },
          {
            "fullDatabaseId": "2573846860",
            "id": "PR_kwDOOyw9fc6ZaclM",
            "number": 16,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/16",
            "url": "https://github.com/ryoppippi/ccusage/pull/16",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/16/checks",
            "additions": 457,
            "deletions": 5,
            "title": "feat: add monthly report and --date-sort sorting for daily/monthly reports",
            "bodyText": "Add Date Sorting and Monthly Report Features\nThis PR combines two related features that enhance ccusage's reporting capabilities:\nğŸš€ Features Added\n1. Date Sorting for Reports (--date-sort)\n\nAdds --date-sort flag to control report ordering\nOptions: desc (newest first, default) or asc (oldest first)\nApplies to both daily and monthly reports\nHelps users analyze trends chronologically or see most recent data first\n\n2. Monthly Usage Report (ccusage monthly)\n\nNew command that aggregates usage by month (YYYY-MM format)\nProvides higher-level view of usage trends over time\nSupports all features from daily report:\n\nTable and JSON output formats\nCost calculation modes (auto/calculate/display)\nDate filtering (--since/--until)\nDate sorting (--date-sort asc/desc)\n\n\n\nğŸ“‹ Implementation Details\n\nDaily sorting: Modified loadUsageData() to respect dateSort parameter\nMonthly report: Created new monthly.ts command with aggregateByMonth() function\nEnsured feature parity between daily and monthly commands\nAdded comprehensive tests for all new functionality\nUpdated documentation\n\nğŸ§ª Testing\n\nâœ… All existing tests pass\nâœ… Added tests for date sorting (ascending/descending)\nâœ… Added tests for monthly aggregation\nâœ… Added tests for year boundary handling\nâœ… Manual testing of all command combinations\n\nğŸ’¡ Why Combine These PRs?\nInitially, I implemented just the daily sorting feature. However, after implementing the monthly report, it became clear that both features should support sorting for consistency. Rather than having the monthly report lack sorting capabilities, I've combined both features to ensure a complete, consistent implementation.\nCloses #10 (Monthly report feature)\nCloses #11 (Add ascending/descending sort order)",
            "state": "CLOSED",
            "publishedAt": "2025-06-06T15:54:29Z",
            "closedAt": "2025-06-07T17:23:09Z",
            "mergedAt": null,
            "mergedBy": null,
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 2
            },
            "reviews": {
              "totalCount": 2
            }
          },
          {
            "fullDatabaseId": "2575744162",
            "id": "PR_kwDOOyw9fc6Zhryi",
            "number": 21,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/21",
            "url": "https://github.com/ryoppippi/ccusage/pull/21",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/21/checks",
            "additions": 478,
            "deletions": 33,
            "title": "feat: add monthly usage report command",
            "bodyText": "feat: add monthly usage report command\nğŸ“‹ Summary\nThis PR implements a new monthly subcommand that aggregates Claude Code token usage and costs by month (YYYY-MM format), providing users with a higher-level view of their usage trends over time.\nThe implementation maintains full feature parity with the existing daily command while following the established codebase patterns and conventions.\nCloses #10\nğŸ¯ Motivation\nUsers tracking their Claude Code usage often need to view trends at different granularities. While the daily report is excellent for detailed analysis, a monthly view helps identify:\n\nLong-term usage patterns\nMonth-over-month cost trends\nSeasonal variations in AI assistant usage\nBudget planning insights\n\nğŸš€ Implementation Details\nCore Features\n\nMonthly Aggregation: Groups daily usage data by month (YYYY-MM format)\nDescending Sort: Displays most recent months first for better UX\nFull Feature Parity: Supports all existing report features:\n\nTable and JSON output formats (--json)\nThree cost calculation modes (--mode auto|calculate|display)\nDate range filtering (--since and --until)\nDebug information (--debug)\nCustom Claude data paths (--path)\n\n\n\nTechnical Approach\n\nCreated src/commands/monthly.ts following the same structure as daily.ts\nImplemented aggregateByMonth() function that:\n\nExtracts YYYY-MM from daily date strings\nAggregates all token types and costs\nReturns sorted array of monthly usage data\n\n\nReused existing utilities for token calculations and formatting\nMaintained consistent UI/UX with other commands\n\nCode Quality\n\nâœ… TypeScript strict mode compliance\nâœ… Biome linting and formatting\nâœ… Unit tests for aggregation logic\nâœ… Documentation updates in README and CLAUDE.md\n\nğŸ“¸ Screenshots\nTable Output\nâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®\nâ”‚                                            â”‚\nâ”‚  Claude Code Token Usage Report - Monthly  â”‚\nâ”‚                                            â”‚\nâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯\n\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Month        â”‚        Input â”‚       Output â”‚ Cache Create â”‚   Cache Read â”‚ Total Tokens â”‚ Cost (USD) â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ 2025-06      â”‚       45,474 â”‚      454,308 â”‚   11,736,415 â”‚  132,819,486 â”‚  145,055,683 â”‚    $444.75 â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ 2025-05      â”‚        2,366 â”‚      128,955 â”‚    1,876,585 â”‚   11,980,075 â”‚   13,987,981 â”‚     $62.86 â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Total        â”‚       47,840 â”‚      583,263 â”‚   13,613,000 â”‚  144,799,561 â”‚  159,043,664 â”‚    $507.62 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nJSON Output\n{\n  \"monthly\": [\n    {\n      \"month\": \"2025-06\",\n      \"inputTokens\": 45494,\n      \"outputTokens\": 454310,\n      \"cacheCreationTokens\": 11738925,\n      \"cacheReadTokens\": 132930998,\n      \"totalTokens\": 145169727,\n      \"totalCost\": 444.96958395000036\n    },\n    {\n      \"month\": \"2025-05\",\n      \"inputTokens\": 2366,\n      \"outputTokens\": 128955,\n      \"cacheCreationTokens\": 1876585,\n      \"cacheReadTokens\": 11980075,\n      \"totalTokens\": 13987981,\n      \"totalCost\": 62.86319625000001\n    }\n  ],\n  \"totals\": {\n    \"inputTokens\": 47860,\n    \"outputTokens\": 583265,\n    \"cacheCreationTokens\": 13615510,\n    \"cacheReadTokens\": 144911073,\n    \"totalTokens\": 159157708,\n    \"totalCost\": 507.83278020000034\n  }\n}\nğŸ§ª Testing\nManual Testing Checklist\n\n ccusage monthly - View monthly usage in table format\n ccusage monthly --json - Verify JSON output structure\n ccusage monthly --since 20250101 - Test date filtering\n ccusage monthly --mode calculate - Verify cost calculation modes\n ccusage monthly --help - Check help documentation\n\nAutomated Tests\n$ bun test src/commands/monthly.test.ts\nâœ“ monthly aggregation > aggregates daily data by month correctly\nâœ“ monthly aggregation > handles empty data\nâœ“ monthly aggregation > handles single month data\nâœ“ monthly aggregation > sorts months in descending order\n\n4 pass, 0 fail\nBuild Verification\n$ bun run lint       # âœ… Passed\n$ bun typecheck      # âœ… Passed\n$ bun test           # âœ… All tests passing\nğŸ“š Documentation Updates\n\nREADME.md: Added monthly command to usage examples and features list\nCLAUDE.md: Updated development commands and architecture notes\n\nğŸ”„ Breaking Changes\nNone. This is a purely additive change that doesn't affect existing functionality.\nğŸ¤ Related Issues\n\nCloses #10 - Monthly usage report feature request\n\nğŸ“ Checklist\n\n Code follows project conventions (Biome formatting, TypeScript strict mode)\n Tests have been added for new functionality\n Documentation has been updated\n All tests pass locally\n Lint and type checking pass\n Feature works with all existing CLI options\n No breaking changes introduced\n\nğŸ‰ Ready for Review\nThis PR is ready for review. The implementation is complete, tested, and documented. Looking forward to your feedback!",
            "state": "MERGED",
            "publishedAt": "2025-06-07T17:32:45Z",
            "closedAt": "2025-06-07T18:19:56Z",
            "mergedAt": "2025-06-07T18:19:56Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 6
            },
            "reviews": {
              "totalCount": 5
            }
          },
          {
            "fullDatabaseId": "2575794377",
            "id": "PR_kwDOOyw9fc6Zh4DJ",
            "number": 22,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/22",
            "url": "https://github.com/ryoppippi/ccusage/pull/22",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/22/checks",
            "additions": 8,
            "deletions": 2,
            "title": "feat: refactor schema to use regex for date and month",
            "bodyText": "This pull request improves the validation of date and month fields in the src/data-loader.ts file by introducing stricter regex-based validation for formatting. The changes ensure that these fields conform to expected formats (YYYY-MM-DD for dates and YYYY-MM for months).\nValidation improvements:\n\nsrc/data-loader.ts: Updated DailyUsageSchema to validate the date field using a regex pattern that enforces the YYYY-MM-DD format.\nsrc/data-loader.ts: Updated MonthlyUsageSchema to validate the month field using a regex pattern that enforces the YYYY-MM format.",
            "state": "MERGED",
            "publishedAt": "2025-06-07T18:28:48Z",
            "closedAt": "2025-06-07T18:29:15Z",
            "mergedAt": "2025-06-07T18:29:15Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 1
            },
            "reviews": {
              "totalCount": 3
            }
          },
          {
            "fullDatabaseId": "2575834763",
            "id": "PR_kwDOOyw9fc6ZiB6L",
            "number": 24,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/24",
            "url": "https://github.com/ryoppippi/ccusage/pull/24",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/24/checks",
            "additions": 322,
            "deletions": 12,
            "title": "feat: add sort order support ",
            "bodyText": "Add Sort Order Support for Daily and Monthly Reports\nFeature #11\nSummary\nThis PR adds a new --order (-o) flag to control the sort order of dates in both daily and monthly usage reports. Users can now choose between descending (newest first, default) and ascending (oldest first) order, providing more flexibility in how they view their Claude usage data.\nMotivation\nPreviously, both daily and monthly reports were hard-coded to display dates in descending order (newest first). While this is often the desired behavior, some users may prefer to see their usage chronologically from oldest to newest, especially when:\n\nTracking usage growth over time\nAnalyzing historical trends\nComparing early usage patterns with recent ones\nGenerating reports for documentation that should read chronologically\n\nImplementation Details\nChanges Made\n\n\nAdded --order flag to shared arguments (src/shared-args.ts)\n\nShort flag: -o\nLong flag: --order\nChoices: desc (default) or asc\nConsistent naming between short and long forms for intuitive CLI usage\n\n\n\nExtended LoadOptions interface (src/data-loader.ts)\n\nAdded optional order?: \"desc\" | \"asc\" property\nMaintains backward compatibility with default \"desc\" behavior\n\n\n\nUpdated sorting logic in data loaders\n\nloadDailyUsageData: Sorts daily entries based on the order parameter\nloadMonthlyUsageData: Sorts monthly aggregations based on the order parameter\nRefactored to use fast-sort consistently and eliminate code duplication\n\n\n\nUpdated command implementations\n\nBoth daily and monthly commands now pass the order option to their respective data loaders\nNo changes to output format or data structure\n\n\n\nComprehensive test coverage\n\nAdded tests for ascending order sorting in daily reports\nAdded tests for ascending order sorting in monthly reports\nAdded tests for explicit descending order (ensuring default behavior is preserved)\nAdded tests for year boundary handling in monthly sorting\n\n\n\nDocumentation updates\n\nUpdated README.md with the new -o, --order flag documentation\nClear explanation of the two sort options and their effects\n\n\n\nCode Quality Improvements\nDuring implementation, I also addressed a code review suggestion to reduce duplication in the sorting logic:\n\nExtracted the sort() call into a variable to avoid calling it twice in conditional branches\nApplied this pattern consistently in both daily and monthly sorting functions\nSwitched monthly sorting to use fast-sort library for consistency\n\nUsage Examples\n# Daily reports\nccusage daily -o asc          # Show oldest days first\nccusage daily -o desc         # Show newest days first (default)\nccusage daily                 # Same as -o desc\n\n# Monthly reports  \nccusage monthly -o asc        # Show oldest months first\nccusage monthly -o desc       # Show newest months first (default)\nccusage monthly               # Same as -o desc\n\n# Combined with other flags\nccusage daily -o asc -j       # JSON output with ascending order\nccusage monthly -o asc -s 20240101 -u 20241231  # Filter and sort\nTesting\nAll existing tests pass, plus new tests added:\n\nâœ… sorts by date ascending when order is 'asc' (daily)\nâœ… sorts by date descending when order is 'desc' (daily)\nâœ… sorts months in ascending order when order is 'asc' (monthly)\nâœ… handles year boundaries correctly in sorting (monthly)\n\nbun test           # All 100 tests pass\nbun run lint       # No lint errors\nbun typecheck      # No type errors\nBreaking Changes\nNone. The default behavior remains unchanged (descending order), ensuring backward compatibility for existing users and scripts.\nFuture Considerations\nThis implementation provides a foundation for potential future enhancements:\n\nSort by other criteria (e.g., cost, token count)\nMulti-level sorting options\nCustom sort expressions\n\nHowever, these are out of scope for this PR, which focuses on the immediate need for basic chronological ordering.\nScreenshots\n\nDaily report in ascending order\n$ ccusage daily -o asc\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Date       â”‚ Input Tokens  â”‚ Output Tokens  â”‚ Cache Creation Tokensâ”‚ Cache Read Tokens â”‚ Total Tokens â”‚ Total Cost â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ 2024-12-01 â”‚ 1,234         â”‚ 567            â”‚ 0                    â”‚ 0                 â”‚ 1,801        â”‚ $0.05      â”‚\nâ”‚ 2024-12-02 â”‚ 2,345         â”‚ 890            â”‚ 0                    â”‚ 0                 â”‚ 3,235        â”‚ $0.08      â”‚\nâ”‚ ...        â”‚ ...           â”‚ ...            â”‚ ...                  â”‚ ...               â”‚ ...          â”‚ ...        â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\n\n\nMonthly report in ascending order\n$ ccusage monthly -o asc\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Month   â”‚ Input Tokens  â”‚ Output Tokens  â”‚ Cache Creation Tokensâ”‚ Cache Read Tokens â”‚ Total Tokens â”‚ Total Cost â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ 2023-11 â”‚ 12,345        â”‚ 5,678          â”‚ 0                    â”‚ 0                 â”‚ 18,023       â”‚ $0.50      â”‚\nâ”‚ 2023-12 â”‚ 23,456        â”‚ 8,901          â”‚ 0                    â”‚ 0                 â”‚ 32,357       â”‚ $0.85      â”‚\nâ”‚ 2024-01 â”‚ 34,567        â”‚ 12,345         â”‚ 1,234                â”‚ 567               â”‚ 48,713       â”‚ $1.20      â”‚\nâ”‚ ...     â”‚ ...           â”‚ ...            â”‚ ...                  â”‚ ...               â”‚ ...          â”‚ ...        â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\n\nChecklist\n\n Code follows the project's style guidelines\n Self-review of code completed\n Comments added where necessary\n Documentation updated (README.md)\n No new warnings generated\n Tests added that prove the fix is effective\n New and existing unit tests pass locally\n No breaking changes to existing functionality",
            "state": "MERGED",
            "publishedAt": "2025-06-07T19:14:59Z",
            "closedAt": "2025-06-07T19:58:28Z",
            "mergedAt": "2025-06-07T19:58:27Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 7
            },
            "reviews": {
              "totalCount": 6
            }
          },
          {
            "fullDatabaseId": "2575875845",
            "id": "PR_kwDOOyw9fc6ZiL8F",
            "number": 27,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/27",
            "url": "https://github.com/ryoppippi/ccusage/pull/27",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/27/checks",
            "additions": 1,
            "deletions": 1,
            "title": "fix!: order is now asc instead of desc",
            "bodyText": "This pull request includes a small change to the src/shared-args.ts file. The default sort order for the sharedArgs configuration has been updated from \"desc\" (newest first) to \"asc\" (oldest first).",
            "state": "MERGED",
            "publishedAt": "2025-06-07T20:04:03Z",
            "closedAt": "2025-06-07T20:04:10Z",
            "mergedAt": "2025-06-07T20:04:10Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 1
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 1
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 1
            },
            "reviews": {
              "totalCount": 2
            }
          },
          {
            "fullDatabaseId": "2575916875",
            "id": "PR_kwDOOyw9fc6ZiV9L",
            "number": 28,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/28",
            "url": "https://github.com/ryoppippi/ccusage/pull/28",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/28/checks",
            "additions": 164,
            "deletions": 108,
            "title": "feat: use object.groupBy as much as possible",
            "bodyText": "",
            "state": "MERGED",
            "publishedAt": "2025-06-07T20:48:27Z",
            "closedAt": "2025-06-07T20:49:43Z",
            "mergedAt": "2025-06-07T20:49:43Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 1
            },
            "reviews": {
              "totalCount": 3
            }
          },
          {
            "fullDatabaseId": "2575928067",
            "id": "PR_kwDOOyw9fc6ZiYsD",
            "number": 29,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/29",
            "url": "https://github.com/ryoppippi/ccusage/pull/29",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/29/checks",
            "additions": 344,
            "deletions": 0,
            "title": "fix: resolve duplicate message id",
            "bodyText": "fixes: #19",
            "state": "CLOSED",
            "publishedAt": "2025-06-07T20:59:24Z",
            "closedAt": "2025-06-11T22:02:04Z",
            "mergedAt": null,
            "mergedBy": null,
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 8
            },
            "reviews": {
              "totalCount": 2
            }
          },
          {
            "fullDatabaseId": "2576566623",
            "id": "PR_kwDOOyw9fc6Zk0lf",
            "number": 30,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/30",
            "url": "https://github.com/ryoppippi/ccusage/pull/30",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/30/checks",
            "additions": 2,
            "deletions": 2,
            "title": "chore(deps): update dependency lint-staged to ^15.5.2",
            "bodyText": "This PR contains the following updates:\n\n\n\nPackage\nChange\nAge\nAdoption\nPassing\nConfidence\n\n\n\n\nlint-staged\n^15.5.0 -> ^15.5.2\n\n\n\n\n\n\n\n\nRelease Notes\n\nlint-staged/lint-staged (lint-staged)\nv15.5.2\nCompare Source\nPatch Changes\n\n#â€‹1544 5561321 Thanks @â€‹YimingIsCOLD! - Correctly handle colon (:) characters in staged filenames.\n\nv15.5.1\nCompare Source\nPatch Changes\n\n\n#â€‹1533 5d53534 Thanks @â€‹iiroj! - Improve listing of staged files so that lint-staged doesn't crash when encountering an uninitialized submodule. This should result in less errors like:\nâœ– Failed to get staged files!\n\n\n\n\n\nConfiguration\nğŸ“… Schedule: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\nğŸš¦ Automerge: Enabled.\nâ™» Rebasing: Whenever PR is behind base branch, or you tick the rebase/retry checkbox.\nğŸ”• Ignore: Close this PR and you won't be reminded about this update again.\n\n\n If you want to rebase/retry this PR, check this box\n\n\nThis PR was generated by Mend Renovate. View the repository job log.",
            "state": "MERGED",
            "publishedAt": "2025-06-08T10:54:50Z",
            "closedAt": "2025-06-08T13:22:51Z",
            "mergedAt": "2025-06-08T13:22:51Z",
            "mergedBy": {
              "login": "renovate",
              "url": "https://github.com/apps/renovate"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 2
            },
            "timelineItems": {
              "totalCount": 4,
              "pageCount": 1,
              "filteredCount": 4
            },
            "comments": {
              "totalCount": 1
            },
            "reviews": {
              "totalCount": 1
            }
          },
          {
            "fullDatabaseId": "2576566847",
            "id": "PR_kwDOOyw9fc6Zk0o_",
            "number": 31,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/31",
            "url": "https://github.com/ryoppippi/ccusage/pull/31",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/31/checks",
            "additions": 28,
            "deletions": 24,
            "title": "chore(deps): update dependency tsdown to ^0.12.7",
            "bodyText": "This PR contains the following updates:\n\n\n\nPackage\nChange\nAge\nAdoption\nPassing\nConfidence\n\n\n\n\ntsdown\n^0.12.3 -> ^0.12.7\n\n\n\n\n\n\n\n\nRelease Notes\n\nrolldown/tsdown (tsdown)\nv0.12.7\nCompare Source\nÂ Â Â ğŸš€ Features\n\nUpgrade rolldown Â -Â  by @â€‹sxzz (59fa5)\n\nÂ Â Â ğŸ Performance\n\nOnly import filename module of dts plugin Â -Â  by @â€‹sxzz (30139)\nEnable fixed extension Â -Â  by @â€‹sxzz (0c724)\nRemove Intl Â -Â  by @â€‹sxzz (b491d)\n\nÂ Â Â Â View changes on GitHub\nv0.12.6\nCompare Source\nÂ Â Â ğŸš€ Features\n\nIntegrate attw Â -Â  by @â€‹gaoachao and @â€‹sxzz in https://github.com/rolldown/tsdown/issues/279 (9ea37)\n\nÂ Â Â ğŸ Bug Fixes\n\nKill process signal Â -Â  by @â€‹sxzz (281e0)\n\nÂ Â Â Â View changes on GitHub\nv0.12.5\nCompare Source\nÂ Â Â ğŸš€ Features\n\nUpgrade rolldown Â -Â  by @â€‹sxzz (1e50a)\nAdd abort controller for onSuccess Â -Â  by @â€‹sebasptsch in https://github.com/rolldown/tsdown/issues/282 (4db20)\n\nÂ Â Â ğŸ Bug Fixes\n\nRemove node protocol for internal polyfill Â -Â  by @â€‹sxzz (5a618)\nhooks: Move pkg to options Â -Â  by @â€‹sxzz (faff9)\n\nÂ Â Â Â View changes on GitHub\nv0.12.4\nCompare Source\nÂ Â Â ğŸš€ Features\n\nUpgrade rolldown Â -Â  by @â€‹sxzz (012b9)\nDefaults entry to src/index.ts if exists Â -Â  by @â€‹gaoachao and @â€‹sxzz in https://github.com/rolldown/tsdown/issues/266 (0b3ea)\n\nÂ Â Â ğŸ Bug Fixes\n\nSet platform to node for CJS format Â -Â  by @â€‹sxzz (747f5)\n\nÂ Â Â Â View changes on GitHub\n\n\nConfiguration\nğŸ“… Schedule: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\nğŸš¦ Automerge: Enabled.\nâ™» Rebasing: Whenever PR is behind base branch, or you tick the rebase/retry checkbox.\nğŸ”• Ignore: Close this PR and you won't be reminded about this update again.\n\n\n If you want to rebase/retry this PR, check this box\n\n\nThis PR was generated by Mend Renovate. View the repository job log.",
            "state": "MERGED",
            "publishedAt": "2025-06-08T10:54:57Z",
            "closedAt": "2025-06-08T12:56:08Z",
            "mergedAt": "2025-06-08T12:56:08Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 2
            },
            "timelineItems": {
              "totalCount": 4,
              "pageCount": 1,
              "filteredCount": 4
            },
            "comments": {
              "totalCount": 1
            },
            "reviews": {
              "totalCount": 1
            }
          },
          {
            "fullDatabaseId": "2576631581",
            "id": "PR_kwDOOyw9fc6ZlEcd",
            "number": 32,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/32",
            "url": "https://github.com/ryoppippi/ccusage/pull/32",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/32/checks",
            "additions": 4,
            "deletions": 4,
            "title": "chore(deps): update dependency gunshi to ^0.26.3",
            "bodyText": "This PR contains the following updates:\n\n\n\nPackage\nChange\nAge\nAdoption\nPassing\nConfidence\n\n\n\n\ngunshi (source)\n^0.25.0 -> ^0.26.3\n\n\n\n\n\n\n\n\nRelease Notes\n\nkazupon/gunshi (gunshi)\nv0.26.3\nCompare Source\nThis changelog is generated by GitHub Releases\n\nFull Changelog: kazupon/gunshi@v0.26.2...v0.26.3\nv0.26.2\nCompare Source\nThis changelog is generated by GitHub Releases\n\nFull Changelog: kazupon/gunshi@v0.26.1...v0.26.2\nv0.26.1\nCompare Source\nThis changelog is generated by GitHub Releases\n\nFull Changelog: kazupon/gunshi@v0.25.1...v0.26.1\nv0.26.0\nCompare Source\nThis changelog is generated by GitHub Releases\n\nWhat's Changed\nğŸ’¥ Breaking Changes\n\nbreaking: non-public for command context log by @â€‹kazupon in https://github.com/kazupon/gunshi/pull/150\n\nğŸ‘• Refactoring\n\nrefactor: use kebanaize of args-tokens by @â€‹kazupon in https://github.com/kazupon/gunshi/pull/151\n\nNew Contributors\n\n@â€‹ryoppippi made their first contribution in https://github.com/kazupon/gunshi/pull/143\n\nFull Changelog: kazupon/gunshi@v0.25.0...v0.26.0\nv0.25.1\nCompare Source\nThis changelog is generated by GitHub Releases\n\nFull Changelog: kazupon/gunshi@v0.26.0...v0.25.1\n\n\nConfiguration\nğŸ“… Schedule: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\nğŸš¦ Automerge: Enabled.\nâ™» Rebasing: Whenever PR is behind base branch, or you tick the rebase/retry checkbox.\nğŸ”• Ignore: Close this PR and you won't be reminded about this update again.\n\n\n If you want to rebase/retry this PR, check this box\n\n\nThis PR was generated by Mend Renovate. View the repository job log.",
            "state": "MERGED",
            "publishedAt": "2025-06-08T12:15:29Z",
            "closedAt": "2025-06-08T12:56:30Z",
            "mergedAt": "2025-06-08T12:56:30Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 2
            },
            "timelineItems": {
              "totalCount": 2,
              "pageCount": 1,
              "filteredCount": 2
            },
            "comments": {
              "totalCount": 2
            },
            "reviews": {
              "totalCount": 1
            }
          },
          {
            "fullDatabaseId": "2576631632",
            "id": "PR_kwDOOyw9fc6ZlEdQ",
            "number": 33,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/33",
            "url": "https://github.com/ryoppippi/ccusage/pull/33",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/33/checks",
            "additions": 2,
            "deletions": 2,
            "title": "chore(deps): update dependency simple-git-hooks to ^2.13.0",
            "bodyText": "This PR contains the following updates:\n\n\n\nPackage\nChange\nAge\nAdoption\nPassing\nConfidence\n\n\n\n\nsimple-git-hooks\n^2.12.1 -> ^2.13.0\n\n\n\n\n\n\n\n\nRelease Notes\n\ntoplenboren/simple-git-hooks (simple-git-hooks)\nv2.13.0\nCompare Source\nMinor Changes\n\n\n#â€‹121 d9d7823 Thanks @â€‹chouchouji! - feat: only remove some hooks that are not in preserveUnused option\n\n\n#â€‹125 8486a22 Thanks @â€‹nathanwhit! - feat: support deno's node_modules structure\n\n\n#â€‹127 8bb9818 Thanks @â€‹yyz945947732! - feat: optimize the migration experience from husky\n\n\n\n\nConfiguration\nğŸ“… Schedule: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\nğŸš¦ Automerge: Enabled.\nâ™» Rebasing: Whenever PR is behind base branch, or you tick the rebase/retry checkbox.\nğŸ”• Ignore: Close this PR and you won't be reminded about this update again.\n\n\n If you want to rebase/retry this PR, check this box\n\n\nThis PR was generated by Mend Renovate. View the repository job log.",
            "state": "MERGED",
            "publishedAt": "2025-06-08T12:15:35Z",
            "closedAt": "2025-06-08T13:30:29Z",
            "mergedAt": "2025-06-08T13:30:29Z",
            "mergedBy": {
              "login": "renovate",
              "url": "https://github.com/apps/renovate"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 2
            },
            "timelineItems": {
              "totalCount": 4,
              "pageCount": 1,
              "filteredCount": 4
            },
            "comments": {
              "totalCount": 1
            },
            "reviews": {
              "totalCount": 1
            }
          },
          {
            "fullDatabaseId": "2576632977",
            "id": "PR_kwDOOyw9fc6ZlEyR",
            "number": 34,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/34",
            "url": "https://github.com/ryoppippi/ccusage/pull/34",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/34/checks",
            "additions": 1646,
            "deletions": 1078,
            "title": "chore: migrate from biome to eslint",
            "bodyText": "I love biome because it is really fast.\nHowever biome is missing some rules like strict-boolean-check or prefer-nullish-coalescing.\nBecause more and more people getting interest to ccusage(thank you guys!), I'd like to keep the linter rule more strict to avoid dangerous codes.\nAlso this helps AI as well.\nMy only concern about this is speed, but you know...\nAll rules are available here\nhttps://eslint-config.ryoppippi.com/configs",
            "state": "MERGED",
            "publishedAt": "2025-06-08T12:18:10Z",
            "closedAt": "2025-06-08T12:33:41Z",
            "mergedAt": "2025-06-08T12:33:41Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 2
            },
            "reviews": {
              "totalCount": 2
            }
          },
          {
            "fullDatabaseId": "2576650721",
            "id": "PR_kwDOOyw9fc6ZlJHh",
            "number": 35,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/35",
            "url": "https://github.com/ryoppippi/ccusage/pull/35",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/35/checks",
            "additions": 0,
            "deletions": 37,
            "title": "refactor: remove unused ModelSpecSchema",
            "bodyText": "",
            "state": "MERGED",
            "publishedAt": "2025-06-08T12:40:28Z",
            "closedAt": "2025-06-08T12:40:34Z",
            "mergedAt": "2025-06-08T12:40:34Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 1
            },
            "reviews": {
              "totalCount": 2
            }
          },
          {
            "fullDatabaseId": "2576679473",
            "id": "PR_kwDOOyw9fc6ZlQIx",
            "number": 36,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/36",
            "url": "https://github.com/ryoppippi/ccusage/pull/36",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/36/checks",
            "additions": 5,
            "deletions": 2,
            "title": "chore: remove exports of types",
            "bodyText": "",
            "state": "MERGED",
            "publishedAt": "2025-06-08T13:19:29Z",
            "closedAt": "2025-06-08T13:20:53Z",
            "mergedAt": "2025-06-08T13:20:52Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 0
            },
            "reviews": {
              "totalCount": 3
            }
          },
          {
            "fullDatabaseId": "2576680396",
            "id": "PR_kwDOOyw9fc6ZlQXM",
            "number": 37,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/37",
            "url": "https://github.com/ryoppippi/ccusage/pull/37",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/37/checks",
            "additions": 17,
            "deletions": 22,
            "title": "chore(deps): update dependency unplugin-unused to ^0.5.0",
            "bodyText": "This PR contains the following updates:\n\n\n\nPackage\nChange\nAge\nAdoption\nPassing\nConfidence\n\n\n\n\nunplugin-unused\n^0.4.4 -> ^0.5.0\n\n\n\n\n\n\n\n\nRelease Notes\n\nunplugin/unplugin-unused (unplugin-unused)\nv0.5.0\nCompare Source\nÂ Â Â ğŸš¨ Breaking Changes\n\nDrop node 18 Â -Â  by @â€‹sxzz (4f279)\n\nÂ Â Â ğŸ Bug Fixes\n\ndeps: Update all non-major dependencies Â -Â  in https://github.com/unplugin/unplugin-unused/issues/41 (7f2fa)\n\nÂ Â Â ğŸ Performance\n\nPerfer native filter Â -Â  by @â€‹sxzz (9e641)\n\nÂ Â Â Â View changes on GitHub\n\n\nConfiguration\nğŸ“… Schedule: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\nğŸš¦ Automerge: Enabled.\nâ™» Rebasing: Whenever PR is behind base branch, or you tick the rebase/retry checkbox.\nğŸ”• Ignore: Close this PR and you won't be reminded about this update again.\n\n\n If you want to rebase/retry this PR, check this box\n\n\nThis PR was generated by Mend Renovate. View the repository job log.",
            "state": "MERGED",
            "publishedAt": "2025-06-08T13:21:16Z",
            "closedAt": "2025-06-08T13:39:17Z",
            "mergedAt": "2025-06-08T13:39:17Z",
            "mergedBy": {
              "login": "renovate",
              "url": "https://github.com/apps/renovate"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 2
            },
            "timelineItems": {
              "totalCount": 4,
              "pageCount": 1,
              "filteredCount": 4
            },
            "comments": {
              "totalCount": 2
            },
            "reviews": {
              "totalCount": 1
            }
          },
          {
            "fullDatabaseId": "2576680429",
            "id": "PR_kwDOOyw9fc6ZlQXt",
            "number": 38,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/38",
            "url": "https://github.com/ryoppippi/ccusage/pull/38",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/38/checks",
            "additions": 7,
            "deletions": 25,
            "title": "chore(deps): update dependency lint-staged to v16",
            "bodyText": "This PR contains the following updates:\n\n\n\nPackage\nChange\nAge\nAdoption\nPassing\nConfidence\n\n\n\n\nlint-staged\n^15.5.2 -> ^16.1.0\n\n\n\n\n\n\n\n\nRelease Notes\n\nlint-staged/lint-staged (lint-staged)\nv16.1.0\nCompare Source\nMinor Changes\n\n\n#â€‹1536 e729daa Thanks @â€‹iiroj! - A new flag --no-revert has been introduced for when task modifications should be applied to the index before aborting the commit in case of errors. By default, lint-staged will clear all task modifications and revert to the original state.\n\n\n#â€‹1550 b27fa3f Thanks @â€‹iiroj! - Lint-staged now ignores symlinks and leaves them out from the list of staged files.\n\n\nPatch Changes\n\n#â€‹1558 c37dc38 Thanks @â€‹iiroj! - The minimum required Node.js version is lowered to 20.17 following nano-spawn@1.0.2.\n\nv16.0.0\nCompare Source\nMajor Changes\n\n\n#â€‹1546 158d15c Thanks @â€‹iiroj! - Processes are spawned using nano-spawn instead of execa. If you are using Node.js scripts as tasks, you might need to explicitly run them with node, especially when using Windows:\n{\n  \"*.js\": \"node my-js-linter.js\"\n}\n\n\n#â€‹1546 158d15c Thanks @â€‹iiroj! - The --shell flag has been removed and lint-staged no longer supports evaluating commands directly via a shell. To migrate existing commands, you can create a shell script and invoke it instead. Lint-staged will pass matched staged files as a list of arguments, accessible via \"$@&#8203;\":\n\n\n\n\n\nConfiguration\nğŸ“… Schedule: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\nğŸš¦ Automerge: Enabled.\nâ™» Rebasing: Whenever PR is behind base branch, or you tick the rebase/retry checkbox.\nğŸ”• Ignore: Close this PR and you won't be reminded about this update again.\n\n\n If you want to rebase/retry this PR, check this box\n\n\nThis PR was generated by Mend Renovate. View the repository job log.",
            "state": "MERGED",
            "publishedAt": "2025-06-08T13:21:21Z",
            "closedAt": "2025-06-08T13:40:01Z",
            "mergedAt": "2025-06-08T13:40:01Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 2
            },
            "timelineItems": {
              "totalCount": 4,
              "pageCount": 1,
              "filteredCount": 4
            },
            "comments": {
              "totalCount": 2
            },
            "reviews": {
              "totalCount": 1
            }
          },
          {
            "fullDatabaseId": "2576685337",
            "id": "PR_kwDOOyw9fc6ZlRkZ",
            "number": 39,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/39",
            "url": "https://github.com/ryoppippi/ccusage/pull/39",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/39/checks",
            "additions": 1,
            "deletions": 1,
            "title": "chore: stop exporting shared args",
            "bodyText": "This pull request removes references to the shared-args module from the project configuration files. The changes ensure that the module is no longer included in the build process or exported.\nConfiguration updates:\n\npackage.json: Removed the export entry for ./shared-args, which previously pointed to ./dist/shared-args.js.\ntsdown.config.ts: Excluded shared-args.ts from the entry configuration, preventing it from being included in the build output.",
            "state": "MERGED",
            "publishedAt": "2025-06-08T13:30:18Z",
            "closedAt": "2025-06-08T13:30:36Z",
            "mergedAt": "2025-06-08T13:30:36Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 1
            },
            "reviews": {
              "totalCount": 2
            }
          },
          {
            "fullDatabaseId": "2576690733",
            "id": "PR_kwDOOyw9fc6ZlS4t",
            "number": 40,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/40",
            "url": "https://github.com/ryoppippi/ccusage/pull/40",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/40/checks",
            "additions": 14,
            "deletions": 17,
            "title": "stop exporting internal modules",
            "bodyText": "This pull request focuses on restructuring the codebase by introducing the .internal.ts suffix for files intended for internal use and updating references accordingly. Additionally, it removes the utils export from package.json. These changes aim to improve code organization and clarify the separation between public and internal modules.\nCode restructuring: .internal.ts suffix for internal modules\n\nRenamed src/shared-args.ts to src/shared-args.internal.ts and updated all references to sharedCommandConfig and sharedArgs in src/commands/daily.ts, src/commands/mcp.ts, src/commands/monthly.ts, and src/commands/session.ts. [1] [2] [3] [4]\nRenamed src/utils.test.ts to src/utils.internal.test.ts and updated the imports in the renamed file.\nUpdated imports for CostMode, SortOrder, CostModes, and dateSchema to use types.internal.ts instead of types.ts in multiple files (src/data-loader.ts, src/mcp.ts, src/shared-args.internal.ts). [1] [2] [3] [4]\n\nConfiguration updates\n\nModified tsdown.config.ts to exclude both .test.ts and .internal.ts files from the build output.\n\nRemoval of unused exports\n\nRemoved the utils export from package.json, as it is now considered an internal module.",
            "state": "MERGED",
            "publishedAt": "2025-06-08T13:38:08Z",
            "closedAt": "2025-06-08T13:38:51Z",
            "mergedAt": "2025-06-08T13:38:51Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 1
            },
            "reviews": {
              "totalCount": 3
            }
          },
          {
            "fullDatabaseId": "2576841522",
            "id": "PR_kwDOOyw9fc6Zl3sy",
            "number": 41,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/41",
            "url": "https://github.com/ryoppippi/ccusage/pull/41",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/41/checks",
            "additions": 34,
            "deletions": 10,
            "title": "chore(deps): update dependency fastmcp to ^2.2.2",
            "bodyText": "This PR contains the following updates:\n\n\n\nPackage\nChange\nAge\nAdoption\nPassing\nConfidence\n\n\n\n\nfastmcp (source)\n^2.2.1 -> ^2.2.2\n\n\n\n\n\n\n\n\nRelease Notes\n\npunkpeye/fastmcp (fastmcp)\nv2.2.2\nCompare Source\nBug Fixes\n\nHTTP Stream Transport Buffering (#â€‹91) (563b0de)\n\n\n\nConfiguration\nğŸ“… Schedule: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\nğŸš¦ Automerge: Enabled.\nâ™» Rebasing: Whenever PR is behind base branch, or you tick the rebase/retry checkbox.\nğŸ”• Ignore: Close this PR and you won't be reminded about this update again.\n\n\n If you want to rebase/retry this PR, check this box\n\n\nThis PR was generated by Mend Renovate. View the repository job log.",
            "state": "MERGED",
            "publishedAt": "2025-06-08T17:02:35Z",
            "closedAt": "2025-06-09T04:04:17Z",
            "mergedAt": "2025-06-09T04:04:17Z",
            "mergedBy": {
              "login": "renovate",
              "url": "https://github.com/apps/renovate"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 2
            },
            "timelineItems": {
              "totalCount": 4,
              "pageCount": 1,
              "filteredCount": 4
            },
            "comments": {
              "totalCount": 1
            },
            "reviews": {
              "totalCount": 1
            }
          },
          {
            "fullDatabaseId": "2576841557",
            "id": "PR_kwDOOyw9fc6Zl3tV",
            "number": 42,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/42",
            "url": "https://github.com/ryoppippi/ccusage/pull/42",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/42/checks",
            "additions": 10,
            "deletions": 0,
            "title": "chore(deps): update actions/cache action to v4.2.3 - abandoned",
            "bodyText": "This PR contains the following updates:\n\n\n\nPackage\nType\nUpdate\nChange\n\n\n\n\nactions/cache\naction\nminor\nv4.1.2 -> v4.2.3\n\n\n\n\nRelease Notes\n\nactions/cache (actions/cache)\nv4.2.3\nCompare Source\nWhat's Changed\n\nUpdate to use @â€‹actions/cache 4.0.3 package & prepare for new release by @â€‹salmanmkc in https://github.com/actions/cache/pull/1577 (SAS tokens for cache entries are now masked in debug logs)\n\nNew Contributors\n\n@â€‹salmanmkc made their first contribution in https://github.com/actions/cache/pull/1577\n\nFull Changelog: actions/cache@v4.2.2...v4.2.3\nv4.2.2\nCompare Source\nWhat's Changed\n\n[!IMPORTANT]\nAs a reminder, there were important backend changes to release v4.2.0, see those release notes and the announcement for more details.\n\n\nBump @â€‹actions/cache to v4.0.2 by @â€‹robherley in https://github.com/actions/cache/pull/1560\n\nFull Changelog: actions/cache@v4.2.1...v4.2.2\nv4.2.1\nCompare Source\nWhat's Changed\n\n[!IMPORTANT]\nAs a reminder, there were important backend changes to release v4.2.0, see those release notes and the announcement for more details.\n\n\ndocs: GitHub is spelled incorrectly in caching-strategies.md by @â€‹janco-absa in https://github.com/actions/cache/pull/1526\ndocs: Make the \"always save prime numbers\" example more clear by @â€‹Tobbe in https://github.com/actions/cache/pull/1525\nUpdate force deletion docs due a recent deprecation by @â€‹sebbalex in https://github.com/actions/cache/pull/1500\nBump @â€‹actions/cache to v4.0.1 by @â€‹robherley in https://github.com/actions/cache/pull/1554\n\nNew Contributors\n\n@â€‹janco-absa made their first contribution in https://github.com/actions/cache/pull/1526\n@â€‹Tobbe made their first contribution in https://github.com/actions/cache/pull/1525\n@â€‹sebbalex made their first contribution in https://github.com/actions/cache/pull/1500\n\nFull Changelog: actions/cache@v4.2.0...v4.2.1\nv4.2.0\nCompare Source\nâš ï¸ Important Changes\nThe cache backend service has been rewritten from the ground up for improved performance and reliability. actions/cache now integrates with the new cache service (v2) APIs.\nThe new service will gradually roll out as of February 1st, 2025. The legacy service will also be sunset on the same date. Changes in these release are fully backward compatible.\nWe are deprecating some versions of this action. We recommend upgrading to version v4 or v3 as soon as possible before February 1st, 2025. (Upgrade instructions below).\nIf you are using pinned SHAs, please use the SHAs of versions v4.2.0 or v3.4.0\nIf you do not upgrade, all workflow runs using any of the deprecated actions/cache will fail.\nUpgrading to the recommended versions will not break your workflows.\nRead more about the change & access the migration guide: reference to the announcement.\nMinor changes\nMinor and patch version updates for these dependencies:\n\n@â€‹actions/core: 1.11.1\n@â€‹actions/io: 1.1.3\n@â€‹vercel/ncc: 0.38.3\n\nFull Changelog: actions/cache@v4.1.2...v4.2.0\n\n\nConfiguration\nğŸ“… Schedule: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\nğŸš¦ Automerge: Enabled.\nâ™» Rebasing: Whenever PR is behind base branch, or you tick the rebase/retry checkbox.\nğŸ”• Ignore: Close this PR and you won't be reminded about this update again.\n\n\n If you want to rebase/retry this PR, check this box\n\n\nThis PR was generated by Mend Renovate. View the repository job log.",
            "state": "CLOSED",
            "publishedAt": "2025-06-08T17:02:40Z",
            "closedAt": "2025-06-08T22:16:48Z",
            "mergedAt": null,
            "mergedBy": null,
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 2
            },
            "timelineItems": {
              "totalCount": 4,
              "pageCount": 1,
              "filteredCount": 4
            },
            "comments": {
              "totalCount": 2
            },
            "reviews": {
              "totalCount": 1
            }
          },
          {
            "fullDatabaseId": "2577144270",
            "id": "PR_kwDOOyw9fc6ZnBnO",
            "number": 43,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/43",
            "url": "https://github.com/ryoppippi/ccusage/pull/43",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/43/checks",
            "additions": 2,
            "deletions": 3,
            "title": "Add \"Mentioned in Awesome\" Badge",
            "bodyText": "I added you to [awesome-claude-code] (https://github.com/hesreallyhim/awesome-claude-code) so you have the distinguished honor of displaying a \"Mentioned in Awesome\" badge if you so desire. Nice work on this project! (I hope you don't mind the \"DISCLAIMER\" I added, as I noted it's not specific to your project and I will try to stay abreast and remove it once that issue is resolved.]",
            "state": "MERGED",
            "publishedAt": "2025-06-09T01:42:21Z",
            "closedAt": "2025-06-09T12:38:33Z",
            "mergedAt": "2025-06-09T12:38:33Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 2
            },
            "reviews": {
              "totalCount": 2
            }
          },
          {
            "fullDatabaseId": "2578701080",
            "id": "PR_kwDOOyw9fc6Zs9sY",
            "number": 45,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/45",
            "url": "https://github.com/ryoppippi/ccusage/pull/45",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/45/checks",
            "additions": 1,
            "deletions": 0,
            "title": "Add Node.js/Bun version requirement documentation",
            "bodyText": "Summary\n\nUpdate README Requirements section to specify Node.js 21.0.0+ or Bun 1.0.20+\nAddresses TypeError: Object.groupBy is not a function on Node.js 20.x environments\n\nProblem\nThe application uses Object.groupBy() which was introduced in:\n\nNode.js 21.0.0: https://nodejs.org/en/blog/announcements/v21-release-announce#v8-118\nBun 1.0.20: oven-sh/bun#7855 (comment)\n\nUsers running Node.js 20.x encounter this error:\nTypeError: Object.groupBy is not a function\n\nSolution\nUpdated README.md Requirements section to clearly document the minimum runtime versions needed for Object.groupBy support.\nğŸ¤– Generated with Claude Code",
            "state": "CLOSED",
            "publishedAt": "2025-06-09T15:19:33Z",
            "closedAt": "2025-06-09T15:40:32Z",
            "mergedAt": null,
            "mergedBy": null,
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 1
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 1
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 2
            },
            "reviews": {
              "totalCount": 2
            }
          },
          {
            "fullDatabaseId": "2578835816",
            "id": "PR_kwDOOyw9fc6Ztelo",
            "number": 47,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/47",
            "url": "https://github.com/ryoppippi/ccusage/pull/47",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/47/checks",
            "additions": 8,
            "deletions": 3,
            "title": "chore(deps): add type-fest",
            "bodyText": "This pull request introduces the type-fest dependency and updates type definitions in the project to use its TupleToUnion utility. Additionally, the configuration for tsdown has been updated to include type-fest in the dts.resolve option.\nDependency Updates:\n\npackage.json: Added type-fest version ^4.41.0 as a new dependency.\n\nType Definition Enhancements:\n\nsrc/types.internal.ts: Updated type definitions for CostMode and SortOrder to use TupleToUnion from type-fest, simplifying the type derivation from constant arrays. [1] [2]\n\nConfiguration Updates:\n\ntsdown.config.ts: Modified the dts.resolve option to include type-fest, ensuring type definitions for type-fest are correctly resolved during build.",
            "state": "MERGED",
            "publishedAt": "2025-06-09T16:19:17Z",
            "closedAt": "2025-06-09T16:19:33Z",
            "mergedAt": "2025-06-09T16:19:33Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 1
            },
            "reviews": {
              "totalCount": 3
            }
          },
          {
            "fullDatabaseId": "2579615229",
            "id": "PR_kwDOOyw9fc6Zwc39",
            "number": 48,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/48",
            "url": "https://github.com/ryoppippi/ccusage/pull/48",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/48/checks",
            "additions": 28,
            "deletions": 11,
            "title": "feat: exhaustiveness check for union types",
            "bodyText": "This pull request introduces several updates to improve code reliability, enforce stricter type safety, and enhance package management. The most important changes include adding the unreachable utility for exhaustive checks, refactoring sorting logic to use a switch statement, and updating package configurations.\nCode reliability and type safety:\n\nsrc/data-loader.ts: Added the unreachable utility from @core/errorutil to ensure exhaustive checks in calculateCostForEntry and loadDailyUsageData functions. This helps catch unexpected values for mode and sortOrder at runtime. [1] [2] [3]\nsrc/data-loader.ts: Refactored sorting logic in loadDailyUsageData to use a switch statement for improved readability and to handle unexpected values more explicitly using the unreachable utility.\n\nPackage management:\n\n.npmrc: Added a custom registry configuration for @jsr packages.\npackage.json: Updated devDependencies to include the @core/errorutil package for utility functions.",
            "state": "MERGED",
            "publishedAt": "2025-06-09T22:31:17Z",
            "closedAt": "2025-06-09T22:32:20Z",
            "mergedAt": "2025-06-09T22:32:20Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 1
            },
            "reviews": {
              "totalCount": 3
            }
          },
          {
            "fullDatabaseId": "2579673992",
            "id": "PR_kwDOOyw9fc6ZwrOI",
            "number": 49,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/49",
            "url": "https://github.com/ryoppippi/ccusage/pull/49",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/49/checks",
            "additions": 327,
            "deletions": 298,
            "title": "feat: class based pricing-fetcher with using syntax",
            "bodyText": "This pull request refactors the cost calculation logic in the src/data-loader.ts, src/debug.ts, and associated test files to improve efficiency and maintainability. The key changes include replacing direct pricing cache manipulation with the PricingFetcher class, converting synchronous cost calculation functions to asynchronous, and ensuring proper cleanup of resources using the using statement.\nRefactoring cost calculation logic:\n\n\nIntroduction of PricingFetcher class:\n\nReplaced direct usage of pricing cache functions (clearPricingCache, fetchModelPricing, getModelPricing) with the PricingFetcher class across src/data-loader.ts and src/debug.ts. This encapsulates pricing logic and simplifies resource management. [1] [2]\n\n\n\nConversion to asynchronous cost calculation:\n\nUpdated calculateCostForEntry to an asynchronous function that uses PricingFetcher for token-based cost calculation. This ensures more flexibility and better handling of asynchronous operations. [1] [2] [3]\n\n\n\nResource management improvements:\n\nUsing statement for automatic cleanup:\n\nIntegrated the using statement to manage PricingFetcher instances in functions like loadDailyUsageData, loadSessionData, and detectMismatches. This ensures proper resource cleanup and avoids memory leaks. [1] [2] [3]\n\n\n\nTest updates:\n\nRefactoring tests to align with new logic:\n\nRemoved beforeEach blocks that cleared the pricing cache and updated test cases to use PricingFetcher instances for cost calculation. This ensures tests are consistent with the new implementation. [1] [2] [3]\n\n\n\nThese changes enhance the codebase by improving modularity, reducing direct dependency on pricing cache functions, and ensuring better resource management.",
            "state": "MERGED",
            "publishedAt": "2025-06-09T23:09:21Z",
            "closedAt": "2025-06-09T23:23:13Z",
            "mergedAt": "2025-06-09T23:23:13Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 2
            },
            "reviews": {
              "totalCount": 3
            }
          },
          {
            "fullDatabaseId": "2579814875",
            "id": "PR_kwDOOyw9fc6ZxNnb",
            "number": 50,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/50",
            "url": "https://github.com/ryoppippi/ccusage/pull/50",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/50/checks",
            "additions": 56,
            "deletions": 4,
            "title": "Replace Object.groupBy with manual implementation for Node.js 20 compatibility",
            "bodyText": "Close #46\nSummary\n\nReplace Object.groupBy usage with manual groupBy implementation\nAdd tests for groupBy utility function\nMaintains Node.js 20 compatibility without external polyfill dependencies\n\nTest plan\n\n All tests pass\n Verified with Node.js 20",
            "state": "MERGED",
            "publishedAt": "2025-06-10T01:19:44Z",
            "closedAt": "2025-06-10T04:49:41Z",
            "mergedAt": "2025-06-10T04:49:41Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 2
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 2
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 1
            },
            "reviews": {
              "totalCount": 6
            }
          },
          {
            "fullDatabaseId": "2581643628",
            "id": "PR_kwDOOyw9fc6Z4MFs",
            "number": 51,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/51",
            "url": "https://github.com/ryoppippi/ccusage/pull/51",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/51/checks",
            "additions": 547,
            "deletions": 23,
            "title": "feat: add --fetch CLI argument for custom model pricing data sources",
            "bodyText": "Summary\n\nImplements the --fetch CLI argument requested in issue #12\nAllows users to specify custom URLs or local file paths for model pricing data\nEnables users behind corporate proxies to access pricing information\n\nChanges\n\nAdded --fetch argument to shared CLI arguments with support for both HTTPS URLs and local filesystem paths\nUpdated PricingFetcher class to accept custom data sources in constructor\nModified all commands (daily, monthly, session) to pass the fetch parameter\nUpdated debug functionality to use custom pricing sources\nMaintained full backward compatibility with default LiteLLM pricing\n\nTest plan\n\n Build succeeds without errors\n All existing tests pass (106/106)\n Linting passes\n Manual testing with both local file and HTTPS URL works correctly\n Default behavior unchanged when --fetch is not specified\n Help text displays the new option correctly\n\nExamples\nUsing a local file:\nccusage daily --fetch /path/to/pricing.json\nUsing a custom HTTPS URL:\nccusage daily --fetch https://example.com/custom-pricing.json\nResolves #12\nğŸ¤– Generated with Claude Code\n\nSummary by CodeRabbit\n\n\nNew Features\n\nAdded a new command-line option to specify a custom source (URL or local file) for model pricing data in all commands.\nEnhanced flexibility for cost calculations by allowing the use of external or local pricing databases.\n\n\n\nDocumentation\n\nUpdated documentation to explain the new option, its usage, and its effect on different calculation modes, including usage examples.",
            "state": "CLOSED",
            "publishedAt": "2025-06-10T14:48:09Z",
            "closedAt": "2025-06-17T02:47:27Z",
            "mergedAt": null,
            "mergedBy": null,
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 5
            },
            "reviews": {
              "totalCount": 6
            }
          },
          {
            "fullDatabaseId": "2581861288",
            "id": "PR_kwDOOyw9fc6Z5BOo",
            "number": 52,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/52",
            "url": "https://github.com/ryoppippi/ccusage/pull/52",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/52/checks",
            "additions": 411,
            "deletions": 59,
            "title": "Add model breakdowns and usage details in usage reports",
            "bodyText": "fixes: #14\n\n\n\n\n\nSummary by CodeRabbit\n\n\nNew Features\n\nUsage reports now display detailed per-model token and cost breakdowns in both JSON and table formats for daily, session, and monthly views.\nAdded a \"Models\" column to usage tables, summarizing models used per period.\nIntroduced a new command-line flag to show or hide per-model breakdowns.\n\n\n\nEnhancements\n\nImproved display formatting for model names and model summaries in reports.\n\n\n\nTests\n\nUpdated and extended test cases to cover new model breakdown data in usage reports.\n\n\n\nDocumentation\n\nUpdated README with instructions and examples for the new per-model breakdown features and the --breakdown flag.",
            "state": "MERGED",
            "publishedAt": "2025-06-10T16:02:49Z",
            "closedAt": "2025-06-11T14:17:18Z",
            "mergedAt": "2025-06-11T14:17:18Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 9
            },
            "reviews": {
              "totalCount": 9
            }
          },
          {
            "fullDatabaseId": "2582489748",
            "id": "PR_kwDOOyw9fc6Z7aqU",
            "number": 53,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/53",
            "url": "https://github.com/ryoppippi/ccusage/pull/53",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/53/checks",
            "additions": 2,
            "deletions": 2,
            "title": "chore(deps): update dependency fastmcp to ^2.2.4",
            "bodyText": "This PR contains the following updates:\n\n\n\nPackage\nChange\nAge\nAdoption\nPassing\nConfidence\n\n\n\n\nfastmcp (source)\n^2.2.2 -> ^2.2.4\n\n\n\n\n\n\n\n\nRelease Notes\n\npunkpeye/fastmcp (fastmcp)\nv2.2.4\nCompare Source\nBug Fixes\n\nupdate dependencies (4c3f7af)\n\nv2.2.3\nCompare Source\nBug Fixes\n\noptimize event loop flushing for different transport types (#â€‹94) (f41e587)\n\n\n\nConfiguration\nğŸ“… Schedule: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\nğŸš¦ Automerge: Enabled.\nâ™» Rebasing: Whenever PR is behind base branch, or you tick the rebase/retry checkbox.\nğŸ”• Ignore: Close this PR and you won't be reminded about this update again.\n\n\n If you want to rebase/retry this PR, check this box\n\n\nThis PR was generated by Mend Renovate. View the repository job log.",
            "state": "MERGED",
            "publishedAt": "2025-06-10T21:07:45Z",
            "closedAt": "2025-06-11T04:51:13Z",
            "mergedAt": "2025-06-11T04:51:13Z",
            "mergedBy": {
              "login": "renovate",
              "url": "https://github.com/apps/renovate"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 2
            },
            "timelineItems": {
              "totalCount": 4,
              "pageCount": 1,
              "filteredCount": 4
            },
            "comments": {
              "totalCount": 1
            },
            "reviews": {
              "totalCount": 1
            }
          },
          {
            "fullDatabaseId": "2582489946",
            "id": "PR_kwDOOyw9fc6Z7ata",
            "number": 54,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/54",
            "url": "https://github.com/ryoppippi/ccusage/pull/54",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/54/checks",
            "additions": 4,
            "deletions": 4,
            "title": "chore(deps): update dependency fastmcp to v3",
            "bodyText": "This PR contains the following updates:\n\n\n\nPackage\nChange\nAge\nAdoption\nPassing\nConfidence\n\n\n\n\nfastmcp (source)\n^2.2.4 -> ^3.0.0\n\n\n\n\n\n\n\n\nRelease Notes\n\npunkpeye/fastmcp (fastmcp)\nv3.0.0\nCompare Source\nFeatures\n\nrename /stream to /mcp (7f01430)\n\nBREAKING CHANGES\n\ndefault endpoint is changed from /stream to /mcp to align with borader community conventions\n\n\n\nConfiguration\nğŸ“… Schedule: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\nğŸš¦ Automerge: Enabled.\nâ™» Rebasing: Whenever PR is behind base branch, or you tick the rebase/retry checkbox.\nğŸ”• Ignore: Close this PR and you won't be reminded about this update again.\n\n\n If you want to rebase/retry this PR, check this box\n\n\nThis PR was generated by Mend Renovate. View the repository job log.",
            "state": "CLOSED",
            "publishedAt": "2025-06-10T21:07:52Z",
            "closedAt": "2025-06-11T11:07:56Z",
            "mergedAt": null,
            "mergedBy": null,
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 2
            },
            "timelineItems": {
              "totalCount": 4,
              "pageCount": 1,
              "filteredCount": 4
            },
            "comments": {
              "totalCount": 3
            },
            "reviews": {
              "totalCount": 1
            }
          },
          {
            "fullDatabaseId": "2583790097",
            "id": "PR_kwDOOyw9fc6aAYIR",
            "number": 55,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/55",
            "url": "https://github.com/ryoppippi/ccusage/pull/55",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/55/checks",
            "additions": 1091,
            "deletions": 87,
            "title": "5 hour session window usage info",
            "bodyText": "A huge mess, made mistake and don't look at this PR\nMy bad, I've learnt my lesson",
            "state": "CLOSED",
            "publishedAt": "2025-06-11T10:31:38Z",
            "closedAt": "2025-06-12T10:00:52Z",
            "mergedAt": null,
            "mergedBy": null,
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 11
            },
            "reviews": {
              "totalCount": 6
            }
          },
          {
            "fullDatabaseId": "2583887686",
            "id": "PR_kwDOOyw9fc6aAv9G",
            "number": 56,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/56",
            "url": "https://github.com/ryoppippi/ccusage/pull/56",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/56/checks",
            "additions": 2,
            "deletions": 2,
            "title": "chore(deps): update dependency @typescript/native-preview to ^7.0.0-dev.20250608.1",
            "bodyText": "This PR contains the following updates:\n\n\n\nPackage\nChange\nAge\nAdoption\nPassing\nConfidence\n\n\n\n\n@typescript/native-preview (source)\n^7.0.0-dev.20250607.1 -> ^7.0.0-dev.20250608.1\n\n\n\n\n\n\n\n\nRelease Notes\n\nmicrosoft/typescript-go (@â€‹typescript/native-preview)\nv7.0.0-dev.20250608.1\nCompare Source\n\n\nConfiguration\nğŸ“… Schedule: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\nğŸš¦ Automerge: Enabled.\nâ™» Rebasing: Whenever PR is behind base branch, or you tick the rebase/retry checkbox.\nğŸ”• Ignore: Close this PR and you won't be reminded about this update again.\n\n\n If you want to rebase/retry this PR, check this box\n\n\nThis PR was generated by Mend Renovate. View the repository job log.",
            "state": "MERGED",
            "publishedAt": "2025-06-11T11:08:30Z",
            "closedAt": "2025-06-11T14:28:15Z",
            "mergedAt": "2025-06-11T14:28:15Z",
            "mergedBy": {
              "login": "renovate",
              "url": "https://github.com/apps/renovate"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 2
            },
            "timelineItems": {
              "totalCount": 4,
              "pageCount": 1,
              "filteredCount": 4
            },
            "comments": {
              "totalCount": 2
            },
            "reviews": {
              "totalCount": 1
            }
          },
          {
            "fullDatabaseId": "2584448386",
            "id": "PR_kwDOOyw9fc6aC42C",
            "number": 57,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/57",
            "url": "https://github.com/ryoppippi/ccusage/pull/57",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/57/checks",
            "additions": 2,
            "deletions": 14,
            "title": "Remove project column from session command",
            "bodyText": "Summary\nâ€¢ Remove project column from session command output to streamline session-focused reporting\nTest plan\n\n Run bun test to ensure all tests pass\n Run bun run lint and bun typecheck to verify code quality\n Test session command output in both table and JSON formats\n Verify breakdown functionality still works correctly\n\n\nSummary by CodeRabbit\n\nRefactor\n\nRemoved the \"Project\" column and all project path information from session report outputs, resulting in a simplified table and JSON format.",
            "state": "MERGED",
            "publishedAt": "2025-06-11T14:25:29Z",
            "closedAt": "2025-06-11T14:26:41Z",
            "mergedAt": "2025-06-11T14:26:41Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 2
            },
            "reviews": {
              "totalCount": 2
            }
          },
          {
            "fullDatabaseId": "2585185054",
            "id": "PR_kwDOOyw9fc6aFsse",
            "number": 58,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/58",
            "url": "https://github.com/ryoppippi/ccusage/pull/58",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/58/checks",
            "additions": 424,
            "deletions": 2,
            "title": "fix: implement chronological deduplication for branched conversations",
            "bodyText": "Fix: Implement Chronological Deduplication for Branched Conversations\nSummary\nThis PR fixes issue #19 by implementing a chronologically-aware deduplication system that prevents double-counting of tokens and costs when conversations are branched in Claude Code.\nFixes #19\nProblem\nWhen users branch conversations in Claude Code (by editing a past message with Esc+Esc), the application creates a new conversation that includes duplicate entries from the original conversation. These duplicates have identical requestId and message.id values, causing:\n\nInflated token counts - The same API calls are counted multiple times\nIncorrect cost calculations - Users see higher costs than actually incurred\nWrong date attribution - Costs may be attributed to the branch date instead of the original date\n\nRoot Cause\nThe current implementation processes JSONL files in an undefined order (filesystem-dependent). This means:\n\nA newer branched conversation file might be processed before the original\nWithout deduplication, both files contribute to the totals\nEven with simple deduplication, processing order matters - the first processed entry \"wins\"\n\nSolution\nThis PR implements a comprehensive deduplication solution that:\n1. Chronological File Processing\n\nAdded getEarliestTimestamp() to extract the earliest timestamp from each JSONL file\nAdded sortFilesByTimestamp() to sort files by their earliest timestamp\nFiles are now processed oldest-first, ensuring original entries are preserved\n\n2. Message Deduplication\n\nExtended UsageDataSchema to include message.id and requestId fields\nAdded createUniqueHash() to generate unique identifiers from message+request IDs\nTrack processed hashes in a Set to skip duplicate entries\nImplemented in both loadDailyUsageData() and loadSessionData()\n\n3. Robust Implementation\n\nHandles files without timestamps (placed at end of processing order)\nSkips invalid JSON lines gracefully\nMaintains backward compatibility with existing data\n\nTesting\nAdded comprehensive test suite (data-loader-deduplication.test.ts) with 11 tests covering:\n\nâœ… Hash creation from message and request IDs\nâœ… Timestamp extraction from JSONL files\nâœ… File sorting by timestamp\nâœ… Deduplication in daily usage data\nâœ… Deduplication in session data\nâœ… Edge cases (missing IDs, invalid JSON, no timestamps)\n\nAll existing tests (117 total) continue to pass.\nCode Changes\nModified Files:\n\nsrc/data-loader.ts - Added deduplication logic and chronological processing\nsrc/data-loader-deduplication.test.ts - New comprehensive test suite\n\nKey Functions Added:\n// Create unique identifier for deduplication\ncreateUniqueHash(data: UsageData): string | null\n\n// Extract earliest timestamp from JSONL file\ngetEarliestTimestamp(filePath: string): Promise<Date | null>\n\n// Sort files chronologically\nsortFilesByTimestamp(files: string[]): Promise<string[]>\nImpact\n\nAccurate Costs: Users will see correct token counts and costs\nProper Attribution: Usage is attributed to the original date, not branch date\nNo Data Loss: Only true duplicates are removed\nPerformance: Minimal overhead from sorting files before processing\n\nVerification\nBefore this fix:\n\nBranched conversations would show inflated costs\nSame usage could appear on multiple dates\n\nAfter this fix:\n\nEach unique API call is counted exactly once\nUsage appears only on the original date\nBranched conversations no longer inflate costs\n\nBreaking Changes\nNone. This change is backward compatible and transparent to users.\nFuture Considerations\nThis implementation uses a simple concatenation for the hash (messageId:requestId). If needed, this could be upgraded to use a proper hashing algorithm, though the current approach is sufficient for the use case.\n\nSummary by CodeRabbit\n\nNew Features\n\nImproved data loading by processing usage data files in chronological order.\nAdded deduplication to ensure duplicate messages are filtered out during data loading.\n\n\nBug Fixes\n\nPrevented duplicate entries from affecting usage and session statistics.\n\n\nTests\n\nAdded comprehensive tests to verify deduplication and chronological processing of data files.",
            "state": "MERGED",
            "publishedAt": "2025-06-11T19:13:22Z",
            "closedAt": "2025-06-12T09:40:24Z",
            "mergedAt": "2025-06-12T09:40:24Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 1
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 1
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 5
            },
            "reviews": {
              "totalCount": 15
            }
          },
          {
            "fullDatabaseId": "2586152525",
            "id": "PR_kwDOOyw9fc6aJY5N",
            "number": 60,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/60",
            "url": "https://github.com/ryoppippi/ccusage/pull/60",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/60/checks",
            "additions": 35,
            "deletions": 1,
            "title": "Add HTTP proxy support for LiteLLM pricing requests",
            "bodyText": "Add undici dependency for ProxyAgent support\nImplement proxy environment variable detection (HTTP_PROXY, HTTPS_PROXY)\nUse undici's ProxyAgent with fetch dispatcher for proper proxy handling\nFixes issue where compiled binary doesn't respect proxy settings\n\nCloses #13\n\nSummary by CodeRabbit\n\n\nNew Features\n\nAdded support for proxy settings when fetching pricing data, allowing the app to use proxy servers if configured via environment variables.\n\n\n\nChores\n\nAdded a new runtime dependency to improve network request handling.",
            "state": "CLOSED",
            "publishedAt": "2025-06-12T06:00:16Z",
            "closedAt": "2025-06-16T18:56:21Z",
            "mergedAt": null,
            "mergedBy": null,
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 10
            },
            "reviews": {
              "totalCount": 3
            }
          },
          {
            "fullDatabaseId": "2586700622",
            "id": "PR_kwDOOyw9fc6aLetO",
            "number": 63,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/63",
            "url": "https://github.com/ryoppippi/ccusage/pull/63",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/63/checks",
            "additions": 2,
            "deletions": 2,
            "title": "chore(deps): update dependency @typescript/native-preview to ^7.0.0-dev.20250609.1",
            "bodyText": "This PR contains the following updates:\n\n\n\nPackage\nChange\nAge\nAdoption\nPassing\nConfidence\n\n\n\n\n@typescript/native-preview (source)\n^7.0.0-dev.20250608.1 -> ^7.0.0-dev.20250609.1\n\n\n\n\n\n\n\n\nRelease Notes\n\nmicrosoft/typescript-go (@â€‹typescript/native-preview)\nv7.0.0-dev.20250609.1\nCompare Source\n\n\nConfiguration\nğŸ“… Schedule: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\nğŸš¦ Automerge: Enabled.\nâ™» Rebasing: Whenever PR is behind base branch, or you tick the rebase/retry checkbox.\nğŸ”• Ignore: Close this PR and you won't be reminded about this update again.\n\n\n If you want to rebase/retry this PR, check this box\n\n\nThis PR was generated by Mend Renovate. View the repository job log.",
            "state": "MERGED",
            "publishedAt": "2025-06-12T09:40:57Z",
            "closedAt": "2025-06-12T10:01:12Z",
            "mergedAt": "2025-06-12T10:01:12Z",
            "mergedBy": {
              "login": "renovate",
              "url": "https://github.com/apps/renovate"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 2
            },
            "timelineItems": {
              "totalCount": 4,
              "pageCount": 1,
              "filteredCount": 4
            },
            "comments": {
              "totalCount": 2
            },
            "reviews": {
              "totalCount": 1
            }
          },
          {
            "fullDatabaseId": "2586700951",
            "id": "PR_kwDOOyw9fc6aLeyX",
            "number": 64,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/64",
            "url": "https://github.com/ryoppippi/ccusage/pull/64",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/64/checks",
            "additions": 2,
            "deletions": 2,
            "title": "chore(deps): update dependency unplugin-unused to ^0.5.1",
            "bodyText": "This PR contains the following updates:\n\n\n\nPackage\nChange\nAge\nAdoption\nPassing\nConfidence\n\n\n\n\nunplugin-unused\n^0.5.0 -> ^0.5.1\n\n\n\n\n\n\n\n\nRelease Notes\n\nunplugin/unplugin-unused (unplugin-unused)\nv0.5.1\nCompare Source\nÂ Â Â ğŸ Bug Fixes\n\nAcknowledge root option Â -Â  by @â€‹christian-bromann in https://github.com/unplugin/unplugin-unused/issues/47 (e898b)\ndeps:\n\nUpdate all non-major dependencies Â -Â  in https://github.com/unplugin/unplugin-unused/issues/44 (1b1e2)\nUpdate all non-major dependencies Â -Â  in https://github.com/unplugin/unplugin-unused/issues/45 (cb3f4)\nUpdate all non-major dependencies Â -Â  in https://github.com/unplugin/unplugin-unused/issues/46 (0beb1)\n\n\n\nÂ Â Â Â View changes on GitHub\n\n\nConfiguration\nğŸ“… Schedule: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\nğŸš¦ Automerge: Enabled.\nâ™» Rebasing: Whenever PR is behind base branch, or you tick the rebase/retry checkbox.\nğŸ”• Ignore: Close this PR and you won't be reminded about this update again.\n\n\n If you want to rebase/retry this PR, check this box\n\n\nThis PR was generated by Mend Renovate. View the repository job log.",
            "state": "MERGED",
            "publishedAt": "2025-06-12T09:41:04Z",
            "closedAt": "2025-06-12T23:52:24Z",
            "mergedAt": "2025-06-12T23:52:24Z",
            "mergedBy": {
              "login": "renovate",
              "url": "https://github.com/apps/renovate"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 2
            },
            "timelineItems": {
              "totalCount": 2,
              "pageCount": 1,
              "filteredCount": 2
            },
            "comments": {
              "totalCount": 2
            },
            "reviews": {
              "totalCount": 1
            }
          },
          {
            "fullDatabaseId": "2587098512",
            "id": "PR_kwDOOyw9fc6aM_2Q",
            "number": 65,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/65",
            "url": "https://github.com/ryoppippi/ccusage/pull/65",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/65/checks",
            "additions": 237,
            "deletions": 195,
            "title": "feat: add data-aggregation module with helper functions",
            "bodyText": "Summary\nThis PR refactors data aggregation logic by extracting common functionality into helper functions and then merging them back into data-loader.ts for better maintainability and performance.\nKey Changes\n\nExtracted and merged data aggregation helpers: Created helper functions for common operations like aggregateByModel, aggregateModelBreakdowns, calculateTotals, filterByDateRange, and duplicate detection\nImproved code organization: Reduced duplication across loadDailyUsageData, loadSessionData, and loadMonthlyUsageData functions\nEnhanced type safety: Fixed TypeScript unsafe type issues by improving generic constraints and hoisting default objects\nBetter date filtering: Made date filtering more robust to handle ISO timestamp formats properly\nUnified duplicate detection: Consistent use of isDuplicateEntry and markAsProcessed helper functions across all data loading functions\n\nTechnical Details\n\nAll helper functions are consolidated in data-loader.ts for optimal performance\nMaintained backward compatibility with existing data formats\nAll existing tests pass with improved test coverage\nFixed linting and type checking issues identified in reviews\n\nReview Feedback Addressed\n\nâœ… Fixed TypeScript type safety issues with proper generic constraints\nâœ… Improved date filtering robustness for various timestamp formats\nâœ… Unified duplicate detection logic across all data loading functions\nâœ… Removed unnecessary .ts extensions from imports\nâœ… Enhanced code organization and maintainability\n\nTest Results\nAll 117 tests pass, including:\n\nData aggregation and filtering functionality\nCost calculation with multiple modes (auto/calculate/display)\nDeduplication across sessions and files\nSupport for Claude 4 models (Sonnet and Opus)",
            "state": "MERGED",
            "publishedAt": "2025-06-12T11:55:38Z",
            "closedAt": "2025-06-13T21:14:03Z",
            "mergedAt": "2025-06-13T21:14:03Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 2
            },
            "reviews": {
              "totalCount": 7
            }
          },
          {
            "fullDatabaseId": "2589464404",
            "id": "PR_kwDOOyw9fc6aWBdU",
            "number": 67,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/67",
            "url": "https://github.com/ryoppippi/ccusage/pull/67",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/67/checks",
            "additions": 10,
            "deletions": 10,
            "title": "chore(deps): update dependency @typescript/native-preview to ^7.0.0-dev.20250610.1",
            "bodyText": "This PR contains the following updates:\n\n\n\nPackage\nChange\nAge\nAdoption\nPassing\nConfidence\n\n\n\n\n@typescript/native-preview (source)\n^7.0.0-dev.20250609.1 -> ^7.0.0-dev.20250610.1\n\n\n\n\n\n\n\n\nRelease Notes\n\nmicrosoft/typescript-go (@â€‹typescript/native-preview)\nv7.0.0-dev.20250610.1\nCompare Source\n\n\nConfiguration\nğŸ“… Schedule: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\nğŸš¦ Automerge: Enabled.\nâ™» Rebasing: Whenever PR is behind base branch, or you tick the rebase/retry checkbox.\nğŸ”• Ignore: Close this PR and you won't be reminded about this update again.\n\n\n If you want to rebase/retry this PR, check this box\n\n\nThis PR was generated by Mend Renovate. View the repository job log.",
            "state": "MERGED",
            "publishedAt": "2025-06-13T08:07:12Z",
            "closedAt": "2025-06-13T13:53:13Z",
            "mergedAt": "2025-06-13T13:53:13Z",
            "mergedBy": {
              "login": "renovate",
              "url": "https://github.com/apps/renovate"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 2
            },
            "timelineItems": {
              "totalCount": 2,
              "pageCount": 1,
              "filteredCount": 2
            },
            "comments": {
              "totalCount": 2
            },
            "reviews": {
              "totalCount": 1
            }
          },
          {
            "fullDatabaseId": "2590660166",
            "id": "PR_kwDOOyw9fc6aalZG",
            "number": 68,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/68",
            "url": "https://github.com/ryoppippi/ccusage/pull/68",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/68/checks",
            "additions": 60,
            "deletions": 0,
            "title": "feat: count and display the number of calls made to each model",
            "bodyText": "This updates the command output to show the number of model calls that Claude Code made, alongside the input and output tokens count, cost, etc.\n\nSummary by CodeRabbit\n\n\nNew Features\n\nUsage reports now display the total number of calls in daily, monthly, and session summaries, both in JSON and CLI table formats.\nModel breakdowns include the number of calls per model.\n\n\n\nBug Fixes\n\nTests updated to verify the accuracy of call counts in usage aggregation and reporting.\n\n\n\nStyle\n\nCLI tables updated to include a new \"Calls\" column for improved visibility of call metrics.",
            "state": "CLOSED",
            "publishedAt": "2025-06-13T15:53:10Z",
            "closedAt": "2025-06-28T23:33:09Z",
            "mergedAt": null,
            "mergedBy": null,
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 7
            },
            "reviews": {
              "totalCount": 5
            }
          },
          {
            "fullDatabaseId": "2592443865",
            "id": "PR_kwDOOyw9fc6ahY3Z",
            "number": 69,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/69",
            "url": "https://github.com/ryoppippi/ccusage/pull/69",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/69/checks",
            "additions": 2,
            "deletions": 2,
            "title": "chore(deps): update dependency @typescript/native-preview to ^7.0.0-dev.20250612.1",
            "bodyText": "This PR contains the following updates:\n\n\n\nPackage\nChange\nAge\nAdoption\nPassing\nConfidence\n\n\n\n\n@typescript/native-preview (source)\n^7.0.0-dev.20250610.1 -> ^7.0.0-dev.20250612.1\n\n\n\n\n\n\n\n\nRelease Notes\n\nmicrosoft/typescript-go (@â€‹typescript/native-preview)\nv7.0.0-dev.20250612.1\nCompare Source\nv7.0.0-dev.20250611.1\nCompare Source\n\n\nConfiguration\nğŸ“… Schedule: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\nğŸš¦ Automerge: Enabled.\nâ™» Rebasing: Whenever PR is behind base branch, or you tick the rebase/retry checkbox.\nğŸ”• Ignore: Close this PR and you won't be reminded about this update again.\n\n\n If you want to rebase/retry this PR, check this box\n\n\nThis PR was generated by Mend Renovate. View the repository job log.",
            "state": "MERGED",
            "publishedAt": "2025-06-14T11:05:10Z",
            "closedAt": "2025-06-15T13:48:19Z",
            "mergedAt": "2025-06-15T13:48:19Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 2
            },
            "timelineItems": {
              "totalCount": 2,
              "pageCount": 1,
              "filteredCount": 2
            },
            "comments": {
              "totalCount": 2
            },
            "reviews": {
              "totalCount": 1
            }
          },
          {
            "fullDatabaseId": "2592742871",
            "id": "PR_kwDOOyw9fc6aih3X",
            "number": 70,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/70",
            "url": "https://github.com/ryoppippi/ccusage/pull/70",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/70/checks",
            "additions": 133,
            "deletions": 26,
            "title": "feat!: specify claude dir with `CLAUDE_CONFIG_DIR` and remove `-p`/`--path` option",
            "bodyText": "Summary\n\nRemove -p short option: Removed the `-p` short option since Claude data directory can now be configured via `CLAUDE_CONFIG_DIR` environment variable\nRemove --path option entirely: Completely removed the `--path` CLI option to simplify the interface and encourage environment variable usage\nUpdate all commands: Modified daily, monthly, session, and mcp commands to use `getDefaultClaudePath()` directly\nUpdate documentation: Updated README to remove all references to `--path` option and clarify environment variable usage\n\nChanges Made\nCLI Interface Changes\n\nRemoved `path` argument from `shared-args.internal.ts`\nUpdated all command files to import and use `getDefaultClaudePath()` directly\nNo longer accepts `--path` or `-p` options - users must use `CLAUDE_CONFIG_DIR` environment variable\n\nDocumentation Updates\n\nRemoved `--path` option from CLI options documentation in README\nUpdated usage examples to remove `--path` references\nClarified that only `CLAUDE_CONFIG_DIR` environment variable is supported for custom paths\n\nTest Coverage\n\nAll existing tests continue to pass\nNo test changes needed as the functionality remains the same, just configured differently\n\nBreaking Change Notice\nâš ï¸ This is a breaking change: The `--path` and `-p` options are no longer available. Users who were using these options should set the `CLAUDE_CONFIG_DIR` environment variable instead:\n```bash\nBefore (no longer works):\nccusage daily --path /custom/path\nAfter:\nexport CLAUDE_CONFIG_DIR=\"/custom/path\"\nccusage daily\n```\nTest Plan\n\n All existing tests pass\n Linting passes\n CLI works with default path (~/.claude)\n CLI works with CLAUDE_CONFIG_DIR environment variable\n All commands (daily, monthly, session, mcp) use environment variable correctly\n Documentation updated to reflect changes\n\n\nSummary by CodeRabbit\n\nNew Features\n\nThe tool now supports specifying the Claude data directory via the CLAUDE_CONFIG_DIR environment variable.\n\n\nBug Fixes\n\nImproved validation to ensure the specified data directory exists and is valid.\n\n\nDocumentation\n\nUpdated instructions to reflect the use of the CLAUDE_CONFIG_DIR environment variable and removed references to the deprecated --path option.\n\n\nChores\n\nAdded a new dependency to support directory validation.\n\n\nTests\n\nAdded comprehensive tests for environment variable handling and directory validation.",
            "state": "MERGED",
            "publishedAt": "2025-06-14T17:03:07Z",
            "closedAt": "2025-06-16T16:15:35Z",
            "mergedAt": "2025-06-16T16:15:35Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 0
            },
            "timelineItems": {
              "totalCount": 0,
              "pageCount": 0,
              "filteredCount": 0
            },
            "comments": {
              "totalCount": 7
            },
            "reviews": {
              "totalCount": 8
            }
          },
          {
            "fullDatabaseId": "2593301418",
            "id": "PR_kwDOOyw9fc6akqOq",
            "number": 71,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/71",
            "url": "https://github.com/ryoppippi/ccusage/pull/71",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/71/checks",
            "additions": 4,
            "deletions": 4,
            "title": "chore(deps): update dependency @types/bun to ^1.2.16",
            "bodyText": "This PR contains the following updates:\n\n\n\nPackage\nChange\nAge\nAdoption\nPassing\nConfidence\n\n\n\n\n@types/bun (source)\n^1.2.15 -> ^1.2.16\n\n\n\n\n\n\n\n\nConfiguration\nğŸ“… Schedule: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\nğŸš¦ Automerge: Enabled.\nâ™» Rebasing: Whenever PR is behind base branch, or you tick the rebase/retry checkbox.\nğŸ”• Ignore: Close this PR and you won't be reminded about this update again.\n\n\n If you want to rebase/retry this PR, check this box\n\n\nThis PR was generated by Mend Renovate. View the repository job log.",
            "state": "MERGED",
            "publishedAt": "2025-06-15T06:57:27Z",
            "closedAt": "2025-06-15T10:54:41Z",
            "mergedAt": "2025-06-15T10:54:41Z",
            "mergedBy": {
              "login": "renovate",
              "url": "https://github.com/apps/renovate"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 2
            },
            "timelineItems": {
              "totalCount": 4,
              "pageCount": 1,
              "filteredCount": 4
            },
            "comments": {
              "totalCount": 2
            },
            "reviews": {
              "totalCount": 1
            }
          },
          {
            "fullDatabaseId": "2593301477",
            "id": "PR_kwDOOyw9fc6akqPl",
            "number": 72,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/72",
            "url": "https://github.com/ryoppippi/ccusage/pull/72",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/72/checks",
            "additions": 3,
            "deletions": 3,
            "title": "chore(deps): update dependency fs-fixture to ^2.8.0",
            "bodyText": "This PR contains the following updates:\n\n\n\nPackage\nChange\nAge\nAdoption\nPassing\nConfidence\n\n\n\n\nfs-fixture\n^2.7.1 -> ^2.8.0\n\n\n\n\n\n\n\n\nRelease Notes\n\nprivatenumber/fs-fixture (fs-fixture)\nv2.8.0\nCompare Source\nFeatures\n\nmkdir method & allow empty object to create dir (#â€‹9) (0057155)\n\nv2.7.2\nCompare Source\nBug Fixes\n\ncp destination to be optional (#â€‹11) (918d201)\n\n\n\nConfiguration\nğŸ“… Schedule: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\nğŸš¦ Automerge: Enabled.\nâ™» Rebasing: Whenever PR is behind base branch, or you tick the rebase/retry checkbox.\nğŸ”• Ignore: Close this PR and you won't be reminded about this update again.\n\n\n If you want to rebase/retry this PR, check this box\n\n\nThis PR was generated by Mend Renovate. View the repository job log.",
            "state": "MERGED",
            "publishedAt": "2025-06-15T06:57:36Z",
            "closedAt": "2025-06-15T13:48:04Z",
            "mergedAt": "2025-06-15T13:48:04Z",
            "mergedBy": {
              "login": "ryoppippi",
              "url": "https://github.com/ryoppippi"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 2
            },
            "timelineItems": {
              "totalCount": 4,
              "pageCount": 1,
              "filteredCount": 4
            },
            "comments": {
              "totalCount": 2
            },
            "reviews": {
              "totalCount": 1
            }
          },
          {
            "fullDatabaseId": "2596138779",
            "id": "PR_kwDOOyw9fc6ave8b",
            "number": 73,
            "permalink": "https://github.com/ryoppippi/ccusage/pull/73",
            "url": "https://github.com/ryoppippi/ccusage/pull/73",
            "checksUrl": "https://github.com/ryoppippi/ccusage/pull/73/checks",
            "additions": 2,
            "deletions": 2,
            "title": "chore(deps): update dependency @typescript/native-preview to ^7.0.0-dev.20250613.1",
            "bodyText": "This PR contains the following updates:\n\n\n\nPackage\nChange\nAge\nAdoption\nPassing\nConfidence\n\n\n\n\n@typescript/native-preview (source)\n^7.0.0-dev.20250612.1 -> ^7.0.0-dev.20250613.1\n\n\n\n\n\n\n\n\nRelease Notes\n\nmicrosoft/typescript-go (@â€‹typescript/native-preview)\nv7.0.0-dev.20250613.1\nCompare Source\n\n\nConfiguration\nğŸ“… Schedule: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\nğŸš¦ Automerge: Enabled.\nâ™» Rebasing: Whenever PR is behind base branch, or you tick the rebase/retry checkbox.\nğŸ”• Ignore: Close this PR and you won't be reminded about this update again.\n\n\n If you want to rebase/retry this PR, check this box\n\n\nThis PR was generated by Mend Renovate. View the repository job log.",
            "state": "MERGED",
            "publishedAt": "2025-06-16T15:38:28Z",
            "closedAt": "2025-06-16T15:52:35Z",
            "mergedAt": "2025-06-16T15:52:35Z",
            "mergedBy": {
              "login": "renovate",
              "url": "https://github.com/apps/renovate"
            },
            "reactionGroups": [
              {
                "content": "THUMBS_UP",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "THUMBS_DOWN",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "LAUGH",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HOORAY",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "CONFUSED",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "HEART",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "ROCKET",
                "reactors": {
                  "totalCount": 0
                }
              },
              {
                "content": "EYES",
                "reactors": {
                  "totalCount": 0
                }
              }
            ],
            "reactions": {
              "totalCount": 0
            },
            "assignedActors": {
              "totalCount": 0
            },
            "labels": {
              "totalCount": 2
            },
            "timelineItems": {
              "totalCount": 4,
              "pageCount": 1,
              "filteredCount": 4
            },
            "comments": {
              "totalCount": 2
            },
            "reviews": {
              "totalCount": 1
            }
          }
        ]
      }
    }
  }
}
